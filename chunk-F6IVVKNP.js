import{$d as Le,Aa as w,Ba as v,Ca as D,Da as se,Dc as b,Ea as ie,Ec as he,Fa as ae,Fc as Se,Ga as oe,Ha as ce,Ia as le,Ja as ue,Ka as T,Mc as Te,Nc as Ie,Oc as ve,P as h,Pa as R,Qa as Ee,Ra as de,S as m,Ua as pe,V as U,W as E,X as H,Xc as De,Xd as d,Y as ee,_ as te,be as c,e as y,ga as f,ka as B,la as q,me as Ue,ua as re,uc as me,va as z,vc as fe,wa as ne,wc as Ae,xa as N,ya as G}from"./chunk-4IGTDH6R.js";import{a as j}from"./chunk-25N2FLV6.js";var L=class{_doc;constructor(r){this._doc=r}manager},V=(()=>{class t extends L{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,s,a){return e.addEventListener(n,s,a),()=>this.removeEventListener(e,n,s,a)}removeEventListener(e,n,s,a){return e.removeEventListener(n,s,a)}static \u0275fac=function(n){return new(n||t)(E(f))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),M=new U(""),Z=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(o=>{o.manager=this});let s=e.filter(o=>!(o instanceof V));this._plugins=s.slice().reverse();let a=e.find(o=>o instanceof V);a&&this._plugins.push(a)}addEventListener(e,n,s,a){return this._findPluginFor(n).addEventListener(e,n,s,a)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(a=>a.supports(e)),!n)throw new h(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(E(M),E(B))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),Q="ng-app-id";function Re(t){for(let r of t)r.remove()}function be(t,r){let e=r.createElement("style");return e.textContent=t,e}function we(t,r,e,n){let s=t.head?.querySelectorAll(`style[${Q}="${r}"],link[${Q}="${r}"]`);if(s)for(let a of s)a.removeAttribute(Q),a instanceof HTMLLinkElement?n.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&e.set(a.textContent,{usage:0,elements:[a]})}function K(t,r){let e=r.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var W=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,s,a={}){this.doc=e,this.appId=n,this.nonce=s,we(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let s of e)this.addUsage(s,this.inline,be);n?.forEach(s=>this.addUsage(s,this.external,K))}removeStyles(e,n){for(let s of e)this.removeUsage(s,this.inline);n?.forEach(s=>this.removeUsage(s,this.external))}addUsage(e,n,s){let a=n.get(e);a?a.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,s(e,this.doc)))})}removeUsage(e,n){let s=n.get(e);s&&(s.usage--,s.usage<=0&&(Re(s.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Re(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:s}]of this.inline)s.push(this.addElement(e,be(n,this.doc)));for(let[n,{elements:s}]of this.external)s.push(this.addElement(e,K(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(E(f),E(z),E(G,8),E(N))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},J=/%COMP%/g;var _e="%COMP%",Ve=`_nghost-${_e}`,Oe=`_ngcontent-${_e}`,Fe=!0,Pe=new U("",{factory:()=>Fe});function ke(t){return Oe.replace(J,t)}function $e(t){return Ve.replace(J,t)}function Me(t,r){return r.map(e=>e.replace(J,t))}var X=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,s,a,o,l,i=null,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=o,this.ngZone=l,this.nonce=i,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new g(e,o,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let s=this.getOrCreateRenderer(e,n);return s instanceof F?s.applyToHost(e):s instanceof _&&s.applyStyles(),s}getOrCreateRenderer(e,n){let s=this.rendererByCompId,a=s.get(n.id);if(!a){let o=this.doc,l=this.ngZone,i=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,S=this.platformIsServer,A=this.tracingService;switch(n.encapsulation){case w.Emulated:a=new F(i,u,n,this.appId,p,o,l,S,A);break;case w.ShadowDom:return new O(i,e,n,o,l,this.nonce,S,A,u);case w.ExperimentalIsolatedShadowDom:return new O(i,e,n,o,l,this.nonce,S,A);default:a=new _(i,u,n,p,o,l,S,A);break}s.set(n.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||t)(E(Z),E(W),E(z),E(Pe),E(f),E(B),E(G),E(de,8))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),g=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(r,e,n,s,a){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=s,this.tracingService=a}destroy(){}destroyNode=null;createElement(r,e){return e?this.doc.createElementNS(Y[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(ge(r)?r.content:r).appendChild(e)}insertBefore(r,e,n){r&&(ge(r)?r.content:r).insertBefore(e,n)}removeChild(r,e){e.remove()}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new h(-5104,!1);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,s){if(s){e=s+":"+e;let a=Y[s];a?r.setAttributeNS(a,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}removeAttribute(r,e,n){if(n){let s=Y[n];s?r.removeAttributeNS(s,e):r.removeAttribute(`${n}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,n,s){s&(R.DashCase|R.Important)?r.style.setProperty(e,n,s&R.Important?"important":""):r.style[e]=n}removeStyle(r,e,n){n&R.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,n){r!=null&&(r[e]=n)}setValue(r,e){r.nodeValue=e}listen(r,e,n,s){if(typeof r=="string"&&(r=b().getGlobalEventTarget(this.doc,r),!r))throw new h(5102,!1);let a=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(a=this.tracingService.wrapEventListener(r,e,a)),this.eventManager.addEventListener(r,e,a,s)}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;r(e)===!1&&e.preventDefault()}}};function ge(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var O=class extends g{hostEl;sharedStylesHost;shadowRoot;constructor(r,e,n,s,a,o,l,i,u){super(r,s,a,l,i),this.hostEl=e,this.sharedStylesHost=u,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let p=n.styles;p=Me(n.id,p);for(let A of p){let I=document.createElement("style");o&&I.setAttribute("nonce",o),I.textContent=A,this.shadowRoot.appendChild(I)}let S=n.getExternalStyles?.();if(S)for(let A of S){let I=K(A,s);o&&I.setAttribute("nonce",o),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(null,e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},_=class extends g{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,e,n,s,a,o,l,i,u){super(r,a,o,l,i),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s;let p=n.styles;this.styles=u?Me(u,p):p,this.styleUrls=n.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ee.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},F=class extends _{contentAttr;hostAttr;constructor(r,e,n,s,a,o,l,i,u){let p=s+"-"+n.id;super(r,e,n,a,o,l,i,u,p),this.contentAttr=ke(p),this.hostAttr=$e(p)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}};var k=class t extends Se{supportsDOMEvents=!0;static makeCurrent(){he(new t)}onAndCancel(r,e,n,s){return r.addEventListener(e,n,s),()=>{r.removeEventListener(e,n,s)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.remove()}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=Be();return e==null?null:qe(e)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Te(document.cookie,r)}},C=null;function Be(){return C=C||document.head.querySelector("base"),C?C.getAttribute("href"):null}function qe(t){return new URL(t,document.baseURI).pathname}var ze=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),Ce=["alt","control","meta","shift"],Ge={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ye=(()=>{class t extends L{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,s,a){let o=t.parseEventName(n),l=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>b().onAndCancel(e,o.domEventName,l,a))}static parseEventName(e){let n=e.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let a=t._normalizeKey(n.pop()),o="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),o="code."),Ce.forEach(u=>{let p=n.indexOf(u);p>-1&&(n.splice(p,1),o+=u+".")}),o+=a,n.length!=0||a.length===0)return null;let i={};return i.domEventName=s,i.fullKey=o,i}static matchEventFullKeyCode(e,n){let s=Ge[e.key]||e.key,a="";return n.indexOf("code.")>-1&&(s=e.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Ce.forEach(o=>{if(o!==s){let l=Qe[o];l(e)&&(a+=o+".")}}),a+=s,a===n)}static eventCallback(e,n,s){return a=>{t.matchEventFullKeyCode(a,e)&&s.runGuarded(()=>n(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(E(f))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();function Ye(t,r,e){let n=j({rootComponent:t,platformRef:e?.platformRef},Ke(r));return me(n)}function Ke(t){return{appProviders:[...et,...t?.providers??[]],platformProviders:Xe}}function Ze(){k.makeCurrent()}function We(){return new q}function Je(){return re(document),document}var Xe=[{provide:N,useValue:ve},{provide:ne,useValue:Ze,multi:!0},{provide:f,useFactory:Je}];var et=[{provide:te,useValue:"root"},{provide:q,useFactory:We},{provide:M,useClass:V,multi:!0},{provide:M,useClass:ye,multi:!0},X,W,Z,{provide:pe,useExisting:X},{provide:Ie,useClass:ze},[]];var er=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(E(f))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:function(n){let s=null;return n?s=new(n||t):s=E(nt),s},providedIn:"root"})}return t})(),nt=(()=>{class t extends rt{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case T.NONE:return n;case T.HTML:return D(n,"HTML")?v(n):ue(this._doc,String(n)).toString();case T.STYLE:return D(n,"Style")?v(n):n;case T.SCRIPT:if(D(n,"Script"))return v(n);throw new h(5200,!1);case T.URL:return D(n,"URL")?v(n):le(String(n));case T.RESOURCE_URL:if(D(n,"ResourceURL"))return v(n);throw new h(5201,!1);default:throw new h(5202,!1)}}bypassSecurityTrustHtml(e){return se(e)}bypassSecurityTrustStyle(e){return ie(e)}bypassSecurityTrustScript(e){return ae(e)}bypassSecurityTrustUrl(e){return oe(e)}bypassSecurityTrustResourceUrl(e){return ce(e)}static \u0275fac=function(n){return new(n||t)(E(f))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})($||{});function st(t,r=[],e={}){return{\u0275kind:t,\u0275providers:r}}function tr(){return st($.EventReplay,fe())}function rr(...t){let r=[],e=new Set;for(let{\u0275providers:s,\u0275kind:a}of t)e.add(a),s.length&&r.push(s);let n=e.has($.HttpTransferCacheOptions);return ee([[],Ae(),e.has($.NoHttpTransferCache)||n?[]:De({}),r])}var x=class t extends Ue{static DEFAULT_VALUE=0;recapStat=new y([]);recapStat$=this.recapStat.asObservable();keyEnum="KEY_APTITUDES";mapCode=new Map([[1,-7],[16,80],[17,-2],[27,-4],[36,-3],[23,120],[26,1052],[30,1053],[31,20],[18,173],[19,175],[20,171],[21,-5],[37,177],[9,150],[10,875],[11,149],[12,180],[13,1055],[14,26],[15,71],[34,988],[2,31],[3,41],[4,160],[5,191],[6,184],[8,-6],[35,35],[6,39],[38,-9],[39,-8]]);form=new Le({percentagePV:new c(t.DEFAULT_VALUE,{nonNullable:!0}),resistancesElementaires:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(10)]}),barriere:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(10)]}),soinsRecus:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(5)]}),pdvArmure:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(10)]}),maitriseElem:new c(t.DEFAULT_VALUE,{nonNullable:!0}),maitrisesMelee:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(40)]}),maitrisesDistance:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(40)]}),pdv:new c(t.DEFAULT_VALUE,{nonNullable:!0}),tacle:new c(t.DEFAULT_VALUE,{nonNullable:!0}),esquive:new c(t.DEFAULT_VALUE,{nonNullable:!0}),initiative:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(20)]}),tacleEsquive:new c(t.DEFAULT_VALUE,{nonNullable:!0}),volonte:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(20)]}),percentageCC:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(20)]}),parade:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(20)]}),maitriseCritique:new c(t.DEFAULT_VALUE,{nonNullable:!0}),maitriseDos:new c(t.DEFAULT_VALUE,{nonNullable:!0}),maitriseBerzerk:new c(t.DEFAULT_VALUE,{nonNullable:!0}),maitriseSoins:new c(t.DEFAULT_VALUE,{nonNullable:!0}),resistancesDos:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(20)]}),resistancesCritique:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(20)]}),pa:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),pm:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),po:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),pw:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),di:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),resistancesElementairesMajeur:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),armureDonnee:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),soinsRealise:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]}),diIndirect:new c(t.DEFAULT_VALUE,{nonNullable:!0,validators:[d.max(1)]})});constructor(){super(),this.init()}decodeFromUrl(r){let e=r.split("-"),n={};e.forEach(s=>{let[a,o]=s.split(":"),l=parseInt(a,10),i=parseInt(o,10),u=this.mapCode.get(l);if(u!==void 0)switch(u){case-7:n.percentagePV=i;break;case 80:n.resistancesElementaires=i;break;case-2:n.barriere=i;break;case-4:n.soinsRecus=i;break;case-3:n.pdvArmure=i;break;case 120:n.maitriseElem=i;break;case 1052:n.maitrisesMelee=i;break;case 1053:n.maitrisesDistance=i;break;case 20:n.pdv=i;break;case 173:n.tacle=i;break;case 175:n.esquive=i;break;case 171:n.initiative=i;break;case-5:n.tacleEsquive=i;break;case 177:n.volonte=i;break;case 150:n.percentageCC=i;break;case 875:n.parade=i;break;case 149:n.maitriseCritique=i;break;case 180:n.maitriseDos=i;break;case 1055:n.maitriseBerzerk=i;break;case 26:n.maitriseSoins=i;break;case 71:n.resistancesDos=i;break;case 988:n.resistancesCritique=i;break;case 31:n.pa=i;break;case 41:n.pm=i;break;case 160:n.po=i;break;case 191:n.pw=i;break;case-6:n.di=i;break;case 35:n.resistancesElementairesMajeur=i;break;case 39:n.armureDonnee=i;break;case-9:n.soinsRealise=i;break;case-8:n.diIndirect=i;break}}),this.setValue(n)}resetIntelligence(){this.form.patchValue({percentagePV:t.DEFAULT_VALUE,resistancesElementaires:t.DEFAULT_VALUE,barriere:t.DEFAULT_VALUE,soinsRecus:t.DEFAULT_VALUE,pdvArmure:t.DEFAULT_VALUE})}resetForce(){this.form.patchValue({maitriseElem:t.DEFAULT_VALUE,maitrisesMelee:t.DEFAULT_VALUE,maitrisesDistance:t.DEFAULT_VALUE,pdv:t.DEFAULT_VALUE})}resetAgilite(){this.form.patchValue({tacle:t.DEFAULT_VALUE,esquive:t.DEFAULT_VALUE,initiative:t.DEFAULT_VALUE,tacleEsquive:t.DEFAULT_VALUE,volonte:t.DEFAULT_VALUE})}resetChance(){this.form.patchValue({percentageCC:t.DEFAULT_VALUE,parade:t.DEFAULT_VALUE,maitriseCritique:t.DEFAULT_VALUE,maitriseDos:t.DEFAULT_VALUE,maitriseBerzerk:t.DEFAULT_VALUE,maitriseSoins:t.DEFAULT_VALUE,resistancesDos:t.DEFAULT_VALUE,resistancesCritique:t.DEFAULT_VALUE})}resetMajeur(){this.form.patchValue({pa:t.DEFAULT_VALUE,pm:t.DEFAULT_VALUE,po:t.DEFAULT_VALUE,pw:t.DEFAULT_VALUE,di:t.DEFAULT_VALUE,resistancesElementairesMajeur:t.DEFAULT_VALUE,armureDonnee:t.DEFAULT_VALUE,soinsRealise:t.DEFAULT_VALUE,diIndirect:t.DEFAULT_VALUE})}nbPointUseInIntelligence(){return Number.parseInt(`${this.form.value.percentagePV}`)+Number.parseInt(`${this.form.value.resistancesElementaires}`)+Number.parseInt(`${this.form.value.barriere}`)+Number.parseInt(`${this.form.value.soinsRecus}`)+Number.parseInt(`${this.form.value.pdvArmure}`)}nbPointUseInForce(){return Number.parseInt(`${this.form.value.maitriseElem}`)+Number.parseInt(`${this.form.value.maitrisesMelee}`)+Number.parseInt(`${this.form.value.maitrisesDistance}`)+Number.parseInt(`${this.form.value.pdv}`)}nbPointUseInAgilite(){return Number.parseInt(`${this.form.value.tacle}`)+Number.parseInt(`${this.form.value.esquive}`)+Number.parseInt(`${this.form.value.initiative}`)+Number.parseInt(`${this.form.value.tacleEsquive}`)+Number.parseInt(`${this.form.value.volonte}`)}nbPointUseInChance(){return Number.parseInt(`${this.form.value.percentageCC}`)+Number.parseInt(`${this.form.value.parade}`)+Number.parseInt(`${this.form.value.maitriseCritique}`)+Number.parseInt(`${this.form.value.maitriseDos}`)+Number.parseInt(`${this.form.value.maitriseBerzerk}`)+Number.parseInt(`${this.form.value.maitriseSoins}`)+Number.parseInt(`${this.form.value.resistancesDos}`)+Number.parseInt(`${this.form.value.resistancesCritique}`)}nbPointUseInMajeur(){return Number.parseInt(`${this.form.value.pa}`)+Number.parseInt(`${this.form.value.pm}`)+Number.parseInt(`${this.form.value.po}`)+Number.parseInt(`${this.form.value.pw}`)+Number.parseInt(`${this.form.value.di}`)+Number.parseInt(`${this.form.value.resistancesElementairesMajeur}`)+Number.parseInt(`${this.form.value.armureDonnee}`)+Number.parseInt(`${this.form.value.soinsRealise}`)+Number.parseInt(`${this.form.value.diIndirect}`)}handleChanges(r){let e=[{id:-7,value:4*r.percentagePV,params:[]},{id:80,value:10*r.resistancesElementaires,params:[]},{id:120,value:5*r.maitriseElem,params:[]},{id:1052,value:8*r.maitrisesMelee,params:[]},{id:1053,value:8*r.maitrisesDistance,params:[]},{id:20,value:20*r.pdv,params:[]},{id:173,value:6*r.tacle,params:[]},{id:175,value:6*r.esquive,params:[]},{id:171,value:4*r.initiative,params:[]},{id:177,value:r.volonte,params:[]},{id:150,value:r.percentageCC,params:[]},{id:875,value:r.parade,params:[]},{id:149,value:4*r.maitriseCritique,params:[]},{id:180,value:6*r.maitriseDos,params:[]},{id:1055,value:8*r.maitriseBerzerk,params:[]},{id:26,value:6*r.maitriseSoins,params:[]},{id:71,value:4*r.resistancesDos,params:[]},{id:988,value:4*r.resistancesCritique,params:[]},{id:31,value:r.pa,params:[]},{id:191,value:2*r.pw,params:[]},{id:-6,value:10*r.di,params:[]}];r.resistancesElementairesMajeur>0&&e.push({id:80,value:50,params:[]}),r.tacleEsquive>0&&(e.push({id:173,value:4*r.tacleEsquive,params:[]}),e.push({id:175,value:4*r.tacleEsquive,params:[]})),r.pm>0&&(e.push({id:41,value:r.pm,params:[]}),e.push({id:120,value:20,params:[]})),r.po>0&&(e.push({id:160,value:r.po,params:[]}),e.push({id:120,value:40,params:[]})),r.armureDonnee>0&&e.push({id:39,value:20,parameterMajorAction:120,params:[]}),r.soinsRealise>0&&e.push({id:-9,value:10,params:[]}),r.diIndirect>0&&(e.push({id:-8,value:10,params:[]}),e.push({id:120,value:40,params:[]})),this.recapStat.next(e)}setValue(r){this.form.setValue({percentagePV:r?.percentagePV??t.DEFAULT_VALUE,resistancesElementaires:r?.resistancesElementaires??t.DEFAULT_VALUE,barriere:r?.barriere??t.DEFAULT_VALUE,soinsRecus:r?.soinsRecus??t.DEFAULT_VALUE,pdvArmure:r?.pdvArmure??t.DEFAULT_VALUE,maitriseElem:r?.maitriseElem??t.DEFAULT_VALUE,maitrisesMelee:r?.maitrisesMelee??t.DEFAULT_VALUE,maitrisesDistance:r?.maitrisesDistance??t.DEFAULT_VALUE,pdv:r?.pdv??t.DEFAULT_VALUE,tacle:r?.tacle??t.DEFAULT_VALUE,esquive:r?.esquive??t.DEFAULT_VALUE,initiative:r?.initiative??t.DEFAULT_VALUE,tacleEsquive:r?.tacleEsquive??t.DEFAULT_VALUE,volonte:r?.volonte??t.DEFAULT_VALUE,percentageCC:r?.percentageCC??t.DEFAULT_VALUE,parade:r?.parade??t.DEFAULT_VALUE,maitriseCritique:r?.maitriseCritique??t.DEFAULT_VALUE,maitriseDos:r?.maitriseDos??t.DEFAULT_VALUE,maitriseBerzerk:r?.maitriseBerzerk??t.DEFAULT_VALUE,maitriseSoins:r?.maitriseSoins??t.DEFAULT_VALUE,resistancesDos:r?.resistancesDos??t.DEFAULT_VALUE,resistancesCritique:r?.resistancesCritique??t.DEFAULT_VALUE,pa:r?.pa??t.DEFAULT_VALUE,pm:r?.pm??t.DEFAULT_VALUE,po:r?.po??t.DEFAULT_VALUE,pw:r?.pw??t.DEFAULT_VALUE,di:r?.di??t.DEFAULT_VALUE,resistancesElementairesMajeur:r?.resistancesElementairesMajeur??t.DEFAULT_VALUE,armureDonnee:r?.armureDonnee??t.DEFAULT_VALUE,soinsRealise:r?.soinsRealise??t.DEFAULT_VALUE,diIndirect:r?.diIndirect??t.DEFAULT_VALUE})}setDefaultValue(){this.form.setValue({percentagePV:t.DEFAULT_VALUE,resistancesElementaires:t.DEFAULT_VALUE,barriere:t.DEFAULT_VALUE,soinsRecus:t.DEFAULT_VALUE,pdvArmure:t.DEFAULT_VALUE,maitriseElem:t.DEFAULT_VALUE,maitrisesMelee:t.DEFAULT_VALUE,maitrisesDistance:t.DEFAULT_VALUE,pdv:t.DEFAULT_VALUE,tacle:t.DEFAULT_VALUE,esquive:t.DEFAULT_VALUE,initiative:t.DEFAULT_VALUE,tacleEsquive:t.DEFAULT_VALUE,volonte:t.DEFAULT_VALUE,percentageCC:t.DEFAULT_VALUE,parade:t.DEFAULT_VALUE,maitriseCritique:t.DEFAULT_VALUE,maitriseDos:t.DEFAULT_VALUE,maitriseBerzerk:t.DEFAULT_VALUE,maitriseSoins:t.DEFAULT_VALUE,resistancesDos:t.DEFAULT_VALUE,resistancesCritique:t.DEFAULT_VALUE,pa:t.DEFAULT_VALUE,pm:t.DEFAULT_VALUE,po:t.DEFAULT_VALUE,pw:t.DEFAULT_VALUE,di:t.DEFAULT_VALUE,resistancesElementairesMajeur:t.DEFAULT_VALUE,armureDonnee:t.DEFAULT_VALUE,soinsRealise:t.DEFAULT_VALUE,diIndirect:t.DEFAULT_VALUE})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ne=class t{aptitudesFormService=H(x);code=new y("");code$=this.code.asObservable();mapCode=new Map([[1,-7],[16,80],[17,-2],[27,-4],[36,-3],[23,120],[26,1052],[30,1053],[31,20],[18,173],[19,175],[20,171],[21,-5],[37,177],[9,150],[10,875],[11,149],[12,180],[13,1055],[14,26],[15,71],[34,988],[2,31],[3,41],[4,160],[5,191],[8,-6],[35,35],[6,39],[38,-9],[39,-8]]);mapCodeReverse=new Map(Array.from(this.mapCode.entries()).map(([r,e])=>[e,r]));constructor(){this.aptitudesFormService.recapStat$.subscribe(()=>{this.updateCode()})}getMapCodeReverse(){return this.mapCodeReverse}updateCode(){let r="",e=this.aptitudesFormService.form.value;if(!e){this.code.next("");return}e.percentagePV&&(r+=`1:${e.percentagePV}-`),e.resistancesElementaires&&(r+=`16:${e.resistancesElementaires}-`),e.barriere&&(r+=`17:${e.barriere}-`),e.soinsRecus&&(r+=`27:${e.soinsRecus}-`),e.pdvArmure&&(r+=`36:${e.pdvArmure}-`),e.maitriseElem&&(r+=`23:${e.maitriseElem}-`),e.maitrisesMelee&&(r+=`26:${e.maitrisesMelee}-`),e.maitrisesDistance&&(r+=`30:${e.maitrisesDistance}-`),e.pdv&&(r+=`31:${e.pdv}-`),e.tacle&&(r+=`18:${e.tacle}-`),e.esquive&&(r+=`19:${e.esquive}-`),e.initiative&&(r+=`20:${e.initiative}-`),e.tacleEsquive&&(r+=`21:${e.tacleEsquive}-`),e.volonte&&(r+=`37:${e.volonte}-`),e.percentageCC&&(r+=`9:${e.percentageCC}-`),e.parade&&(r+=`10:${e.parade}-`),e.maitriseCritique&&(r+=`11:${e.maitriseCritique}-`),e.maitriseDos&&(r+=`12:${e.maitriseDos}-`),e.maitriseBerzerk&&(r+=`13:${e.maitriseBerzerk}-`),e.maitriseSoins&&(r+=`14:${e.maitriseSoins}-`),e.resistancesDos&&(r+=`15:${e.resistancesDos}-`),e.resistancesCritique&&(r+=`34:${e.resistancesCritique}-`),e.pa&&(r+=`2:${e.pa}-`),e.pm&&(r+=`3:${e.pm}-`),e.po&&(r+=`4:${e.po}-`),e.pw&&(r+=`5:${e.pw}-`),e.di&&(r+=`8:${e.di}-`),e.resistancesElementairesMajeur&&(r+=`35:${e.resistancesElementairesMajeur}-`),e.armureDonnee&&(r+=`6:${e.armureDonnee}-`),e.soinsRealise&&(r+=`38:${e.soinsRealise}-`),e.diIndirect&&(r+=`39:${e.diIndirect}-`),r.endsWith("-")&&(r=r.slice(0,-1)),this.code.next(r)}getCode(){return this.code.getValue()}saveCode(r){let e=r.split("-"),n={};e.forEach(s=>{let[a,o]=s.split(":"),l=parseInt(a,10),i=parseInt(o,10),u=this.mapCode.get(l);if(u!==void 0)switch(u){case-7:n.percentagePV=i;break;case 80:n.resistancesElementaires=i;break;case-2:n.barriere=i;break;case-4:n.soinsRecus=i;break;case-3:n.pdvArmure=i;break;case 120:n.maitriseElem=i;break;case 1052:n.maitrisesMelee=i;break;case 1053:n.maitrisesDistance=i;break;case 20:n.pdv=i;break;case 173:n.tacle=i;break;case 175:n.esquive=i;break;case 171:n.initiative=i;break;case-5:n.tacleEsquive=i;break;case 177:n.volonte=i;break;case 150:n.percentageCC=i;break;case 875:n.parade=i;break;case 149:n.maitriseCritique=i;break;case 180:n.maitriseDos=i;break;case 1055:n.maitriseBerzerk=i;break;case 26:n.maitriseSoins=i;break;case 71:n.resistancesDos=i;break;case 988:n.resistancesCritique=i;break;case 31:n.pa=i;break;case 41:n.pm=i;break;case 160:n.po=i;break;case 191:n.pw=i;break;case-6:n.di=i;break;case 35:n.resistancesElementairesMajeur=i;break;case 39:n.armureDonnee=i;break;case-9:n.soinsRealise=i;break;case-8:n.diIndirect=i;break}}),this.aptitudesFormService.setValue(n)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};export{L as a,M as b,Ye as c,er as d,rt as e,tr as f,rr as g,x as h,Ne as i};
