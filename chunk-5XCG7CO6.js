import{$,Ad as Y,Bd as g,Ca as q,D as T,H as d,Hb as H,I as P,J as R,K as h,L as m,U as _,Wa as B,X as v,Xa as j,a as C,ac as K,d as L,dc as G,ea as S,f as p,fb as z,g as N,gb as Q,h as I,jd as l,k as V,lc as J,nd as Z,oc as f,pd as E,q as M,qa as y,ra as x,s as w,v as k,y as O,zb as W}from"./chunk-YMVXRNHU.js";function X(r){return Error(`Unable to find icon with the name "${r}"`)}function ae(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function ee(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function te(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}var A=class{url;svgText;options;svgElement;constructor(i,e,t){this.url=i,this.svgText=e,this.options=t}},ie=(()=>{class r{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,s,a){this._httpClient=e,this._sanitizer=t,this._errorHandler=a,this._document=s}addSvgIcon(e,t,s){return this.addSvgIconInNamespace("",e,t,s)}addSvgIconLiteral(e,t,s){return this.addSvgIconLiteralInNamespace("",e,t,s)}addSvgIconInNamespace(e,t,s,a){return this._addSvgIconConfig(e,t,new A(s,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,s,a){let o=this._sanitizer.sanitize(S.HTML,s);if(!o)throw te(s);let c=f(o);return this._addSvgIconConfig(e,t,new A("",c,a))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,s){return this._addSvgIconSetConfig(e,new A(t,null,s))}addSvgIconSetLiteralInNamespace(e,t,s){let a=this._sanitizer.sanitize(S.HTML,t);if(!a)throw te(t);let o=f(a);return this._addSvgIconSetConfig(e,new A("",o,s))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(S.RESOURCE_URL,e);if(!t)throw ee(e);let s=this._cachedIconsByUrl.get(t);return s?p(b(s)):this._loadSvgIconFromConfig(new A(e,null)).pipe(T(a=>this._cachedIconsByUrl.set(t,a)),I(a=>b(a)))}getNamedSvgIcon(e,t=""){let s=re(t,e),a=this._svgIconConfigs.get(s);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(t,e),a)return this._svgIconConfigs.set(s,a),this._getSvgFromConfig(a);let o=this._iconSetConfigs.get(t);return o?this._getSvgFromIconSetConfigs(e,o):N(X(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?p(b(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(I(t=>b(t)))}_getSvgFromIconSetConfigs(e,t){let s=this._extractIconWithNameFromAnySet(e,t);if(s)return p(s);let a=t.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(M(c=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(S.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(u)),p(null)})));return V(a).pipe(I(()=>{let o=this._extractIconWithNameFromAnySet(e,t);if(!o)throw X(e);return o}))}_extractIconWithNameFromAnySet(e,t){for(let s=t.length-1;s>=0;s--){let a=t[s];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(a),c=this._extractSvgIconFromSet(o,e,a.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(T(t=>e.svgText=t),I(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?p(null):this._fetchIcon(e).pipe(T(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,s){let a=e.querySelector(`[id="${t}"]`);if(!a)return null;let o=a.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,s);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),s);let c=this._svgElementFromString(f("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,s)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let s=t.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){let t=this._svgElementFromString(f("<svg></svg>")),s=e.attributes;for(let a=0;a<s.length;a++){let{name:o,value:c}=s[a];o!=="id"&&t.setAttribute(o,c)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[a].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:s}=e,a=s?.withCredentials??!1;if(!this._httpClient)throw ae();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let o=this._sanitizer.sanitize(S.RESOURCE_URL,t);if(!o)throw ee(t);let c=this._inProgressUrlFetches.get(o);if(c)return c;let n=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(I(u=>f(u)),k(()=>this._inProgressUrlFetches.delete(o)),O());return this._inProgressUrlFetches.set(o,n),n}_addSvgIconConfig(e,t,s){return this._svgIconConfigs.set(re(e,t),s),this}_addSvgIconSetConfig(e,t){let s=this._iconSetConfigs.get(e);return s?s.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let s=0;s<this._resolvers.length;s++){let a=this._resolvers[s](t,e);if(a)return oe(a)?new A(a.url,null,a.options):new A(a,null)}}static \u0275fac=function(t){return new(t||r)(h(K,8),h(G),h(_,8),h(v))};static \u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function b(r){return r.cloneNode(!0)}function re(r,i){return r+":"+i}function oe(r){return!!(r.url&&r.options)}var Ee=["*"],ce=new R("MAT_ICON_DEFAULT_OPTIONS"),le=new R("mat-icon-location",{providedIn:"root",factory:()=>{let r=m(_),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),se=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],me=se.map(r=>`[${r}]`).join(", "),ue=/^url\(['"]?#(.*?)['"]?\)$/,we=(()=>{class r{_elementRef=m($);_iconRegistry=m(ie);_location=m(le);_errorHandler=m(v);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=C.EMPTY;constructor(){let e=m(new W("aria-hidden"),{optional:!0}),t=m(ce,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let s=e.childNodes[t];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>e.classList.remove(s)),t.forEach(s=>e.classList.add(s)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((s,a)=>{s.forEach(o=>{a.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(me),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<t.length;a++)se.forEach(o=>{let c=t[a],n=c.getAttribute(o),u=n?n.match(ue):null;if(u){let U=s.get(c);U||(U=[],s.set(c,U)),U.push({name:o,value:u[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,s]=this._splitIconName(e);t&&(this._svgNamespace=t),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,t).pipe(w(1)).subscribe(a=>this._setSvgElement(a),a=>{let o=`Error retrieving icon ${t}:${s}! ${a.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,s){t&2&&(q("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Q(s.color?"mat-"+s.color:""),z("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",H],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Ee,decls:1,vars:0,template:function(t,s){t&1&&(B(),j(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return r})(),ke=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=x({type:r});static \u0275inj=P({imports:[J]})}return r})();var D=class r extends Y{static DEFAULT_VALUE=0;urlServices=m(g);recapStat=new L([]);recapStat$=this.recapStat.asObservable();keyEnum="KEY_APTITUDES";mapCode=new Map([[1,-7],[16,80],[17,-2],[27,-4],[36,-3],[23,120],[26,1052],[30,1053],[31,20],[18,173],[19,175],[20,171],[21,-5],[37,177],[9,150],[10,875],[11,149],[12,180],[13,1055],[14,26],[15,71],[34,988],[2,31],[3,41],[4,160],[5,191],[6,184],[8,-6],[35,35],[6,39],[38,-9],[39,-8]]);form=new Z({percentagePV:new E(r.DEFAULT_VALUE,{nonNullable:!0}),resistancesElementaires:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(10)]}),barriere:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(10)]}),soinsRecus:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(5)]}),pdvArmure:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(10)]}),maitriseElem:new E(r.DEFAULT_VALUE,{nonNullable:!0}),maitrisesMelee:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(40)]}),maitrisesDistance:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(40)]}),pdv:new E(r.DEFAULT_VALUE,{nonNullable:!0}),tacle:new E(r.DEFAULT_VALUE,{nonNullable:!0}),esquive:new E(r.DEFAULT_VALUE,{nonNullable:!0}),initiative:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(20)]}),tacleEsquive:new E(r.DEFAULT_VALUE,{nonNullable:!0}),volonte:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(20)]}),percentageCC:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(20)]}),parade:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(20)]}),maitriseCritique:new E(r.DEFAULT_VALUE,{nonNullable:!0}),maitriseDos:new E(r.DEFAULT_VALUE,{nonNullable:!0}),maitriseBerzerk:new E(r.DEFAULT_VALUE,{nonNullable:!0}),maitriseSoins:new E(r.DEFAULT_VALUE,{nonNullable:!0}),resistancesDos:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(20)]}),resistancesCritique:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(20)]}),pa:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),pm:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),po:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),pw:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),di:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),resistancesElementairesMajeur:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),armureDonnee:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),soinsRealise:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]}),diIndirect:new E(r.DEFAULT_VALUE,{nonNullable:!0,validators:[l.max(1)]})});constructor(){super();let i=this.urlServices.getAptitudesFromUrl();this.init(),i!==void 0&&this.decodeFromUrl(i)}decodeFromUrl(i){let e=i.split("-"),t={};e.forEach(s=>{let[a,o]=s.split(":"),c=parseInt(a,10),n=parseInt(o,10),u=this.mapCode.get(c);if(u!==void 0)switch(u){case-7:t.percentagePV=n;break;case 80:t.resistancesElementaires=n;break;case-2:t.barriere=n;break;case-4:t.soinsRecus=n;break;case-3:t.pdvArmure=n;break;case 120:t.maitriseElem=n;break;case 1052:t.maitrisesMelee=n;break;case 1053:t.maitrisesDistance=n;break;case 20:t.pdv=n;break;case 173:t.tacle=n;break;case 175:t.esquive=n;break;case 171:t.initiative=n;break;case-5:t.tacleEsquive=n;break;case 177:t.volonte=n;break;case 150:t.percentageCC=n;break;case 875:t.parade=n;break;case 149:t.maitriseCritique=n;break;case 180:t.maitriseDos=n;break;case 1055:t.maitriseBerzerk=n;break;case 26:t.maitriseSoins=n;break;case 71:t.resistancesDos=n;break;case 988:t.resistancesCritique=n;break;case 31:t.pa=n;break;case 41:t.pm=n;break;case 160:t.po=n;break;case 191:t.pw=n;break;case-6:t.di=n;break;case 35:t.resistancesElementairesMajeur=n;break;case 39:t.armureDonnee=n;break;case-9:t.soinsRealise=n;break;case-8:t.diIndirect=n;break}}),this.setValue(t)}resetIntelligence(){this.form.patchValue({percentagePV:r.DEFAULT_VALUE,resistancesElementaires:r.DEFAULT_VALUE,barriere:r.DEFAULT_VALUE,soinsRecus:r.DEFAULT_VALUE,pdvArmure:r.DEFAULT_VALUE})}resetForce(){this.form.patchValue({maitriseElem:r.DEFAULT_VALUE,maitrisesMelee:r.DEFAULT_VALUE,maitrisesDistance:r.DEFAULT_VALUE,pdv:r.DEFAULT_VALUE})}resetAgilite(){this.form.patchValue({tacle:r.DEFAULT_VALUE,esquive:r.DEFAULT_VALUE,initiative:r.DEFAULT_VALUE,tacleEsquive:r.DEFAULT_VALUE,volonte:r.DEFAULT_VALUE})}resetChance(){this.form.patchValue({percentageCC:r.DEFAULT_VALUE,parade:r.DEFAULT_VALUE,maitriseCritique:r.DEFAULT_VALUE,maitriseDos:r.DEFAULT_VALUE,maitriseBerzerk:r.DEFAULT_VALUE,maitriseSoins:r.DEFAULT_VALUE,resistancesDos:r.DEFAULT_VALUE,resistancesCritique:r.DEFAULT_VALUE})}resetMajeur(){this.form.patchValue({pa:r.DEFAULT_VALUE,pm:r.DEFAULT_VALUE,po:r.DEFAULT_VALUE,pw:r.DEFAULT_VALUE,di:r.DEFAULT_VALUE,resistancesElementairesMajeur:r.DEFAULT_VALUE,armureDonnee:r.DEFAULT_VALUE,soinsRealise:r.DEFAULT_VALUE,diIndirect:r.DEFAULT_VALUE})}nbPointUseInIntelligence(){return Number.parseInt(`${this.form.value.percentagePV}`)+Number.parseInt(`${this.form.value.resistancesElementaires}`)+Number.parseInt(`${this.form.value.barriere}`)+Number.parseInt(`${this.form.value.soinsRecus}`)+Number.parseInt(`${this.form.value.pdvArmure}`)}nbPointUseInForce(){return Number.parseInt(`${this.form.value.maitriseElem}`)+Number.parseInt(`${this.form.value.maitrisesMelee}`)+Number.parseInt(`${this.form.value.maitrisesDistance}`)+Number.parseInt(`${this.form.value.pdv}`)}nbPointUseInAgilite(){return Number.parseInt(`${this.form.value.tacle}`)+Number.parseInt(`${this.form.value.esquive}`)+Number.parseInt(`${this.form.value.initiative}`)+Number.parseInt(`${this.form.value.tacleEsquive}`)+Number.parseInt(`${this.form.value.volonte}`)}nbPointUseInChance(){return Number.parseInt(`${this.form.value.percentageCC}`)+Number.parseInt(`${this.form.value.parade}`)+Number.parseInt(`${this.form.value.maitriseCritique}`)+Number.parseInt(`${this.form.value.maitriseDos}`)+Number.parseInt(`${this.form.value.maitriseBerzerk}`)+Number.parseInt(`${this.form.value.maitriseSoins}`)+Number.parseInt(`${this.form.value.resistancesDos}`)+Number.parseInt(`${this.form.value.resistancesCritique}`)}nbPointUseInMajeur(){return Number.parseInt(`${this.form.value.pa}`)+Number.parseInt(`${this.form.value.pm}`)+Number.parseInt(`${this.form.value.po}`)+Number.parseInt(`${this.form.value.pw}`)+Number.parseInt(`${this.form.value.di}`)+Number.parseInt(`${this.form.value.resistancesElementairesMajeur}`)+Number.parseInt(`${this.form.value.armureDonnee}`)+Number.parseInt(`${this.form.value.soinsRealise}`)+Number.parseInt(`${this.form.value.diIndirect}`)}handleChanges(i){let e=[{id:-7,value:4*i.percentagePV,params:[]},{id:80,value:10*i.resistancesElementaires,params:[]},{id:120,value:5*i.maitriseElem,params:[]},{id:1052,value:8*i.maitrisesMelee,params:[]},{id:1053,value:8*i.maitrisesDistance,params:[]},{id:20,value:20*i.pdv,params:[]},{id:173,value:6*i.tacle,params:[]},{id:175,value:6*i.esquive,params:[]},{id:171,value:4*i.initiative,params:[]},{id:177,value:i.volonte,params:[]},{id:150,value:i.percentageCC,params:[]},{id:875,value:i.parade,params:[]},{id:149,value:4*i.maitriseCritique,params:[]},{id:180,value:6*i.maitriseDos,params:[]},{id:1055,value:8*i.maitriseBerzerk,params:[]},{id:26,value:6*i.maitriseSoins,params:[]},{id:71,value:4*i.resistancesDos,params:[]},{id:988,value:4*i.resistancesCritique,params:[]},{id:31,value:i.pa,params:[]},{id:191,value:2*i.pw,params:[]},{id:-6,value:10*i.di,params:[]}];i.resistancesElementairesMajeur>0&&e.push({id:35,value:50,params:[]}),i.tacleEsquive>0&&(e.push({id:173,value:4*i.tacleEsquive,params:[]}),e.push({id:175,value:4*i.tacleEsquive,params:[]})),i.pm>0&&(e.push({id:41,value:i.pm,params:[]}),e.push({id:120,value:20,params:[]})),i.po>0&&(e.push({id:160,value:i.po,params:[]}),e.push({id:120,value:40,params:[]})),i.armureDonnee>0&&e.push({id:39,value:20,parameterMajorAction:120,params:[]}),i.soinsRealise>0&&e.push({id:-9,value:10,params:[]}),i.diIndirect>0&&(e.push({id:-8,value:10,params:[]}),e.push({id:120,value:40,params:[]})),this.recapStat.next(e)}setValue(i){this.form.setValue({percentagePV:i?.percentagePV??r.DEFAULT_VALUE,resistancesElementaires:i?.resistancesElementaires??r.DEFAULT_VALUE,barriere:i?.barriere??r.DEFAULT_VALUE,soinsRecus:i?.soinsRecus??r.DEFAULT_VALUE,pdvArmure:i?.pdvArmure??r.DEFAULT_VALUE,maitriseElem:i?.maitriseElem??r.DEFAULT_VALUE,maitrisesMelee:i?.maitrisesMelee??r.DEFAULT_VALUE,maitrisesDistance:i?.maitrisesDistance??r.DEFAULT_VALUE,pdv:i?.pdv??r.DEFAULT_VALUE,tacle:i?.tacle??r.DEFAULT_VALUE,esquive:i?.esquive??r.DEFAULT_VALUE,initiative:i?.initiative??r.DEFAULT_VALUE,tacleEsquive:i?.tacleEsquive??r.DEFAULT_VALUE,volonte:i?.volonte??r.DEFAULT_VALUE,percentageCC:i?.percentageCC??r.DEFAULT_VALUE,parade:i?.parade??r.DEFAULT_VALUE,maitriseCritique:i?.maitriseCritique??r.DEFAULT_VALUE,maitriseDos:i?.maitriseDos??r.DEFAULT_VALUE,maitriseBerzerk:i?.maitriseBerzerk??r.DEFAULT_VALUE,maitriseSoins:i?.maitriseSoins??r.DEFAULT_VALUE,resistancesDos:i?.resistancesDos??r.DEFAULT_VALUE,resistancesCritique:i?.resistancesCritique??r.DEFAULT_VALUE,pa:i?.pa??r.DEFAULT_VALUE,pm:i?.pm??r.DEFAULT_VALUE,po:i?.po??r.DEFAULT_VALUE,pw:i?.pw??r.DEFAULT_VALUE,di:i?.di??r.DEFAULT_VALUE,resistancesElementairesMajeur:i?.resistancesElementairesMajeur??r.DEFAULT_VALUE,armureDonnee:i?.armureDonnee??r.DEFAULT_VALUE,soinsRealise:i?.soinsRealise??r.DEFAULT_VALUE,diIndirect:i?.diIndirect??r.DEFAULT_VALUE})}setDefaultValue(){this.form.setValue({percentagePV:r.DEFAULT_VALUE,resistancesElementaires:r.DEFAULT_VALUE,barriere:r.DEFAULT_VALUE,soinsRecus:r.DEFAULT_VALUE,pdvArmure:r.DEFAULT_VALUE,maitriseElem:r.DEFAULT_VALUE,maitrisesMelee:r.DEFAULT_VALUE,maitrisesDistance:r.DEFAULT_VALUE,pdv:r.DEFAULT_VALUE,tacle:r.DEFAULT_VALUE,esquive:r.DEFAULT_VALUE,initiative:r.DEFAULT_VALUE,tacleEsquive:r.DEFAULT_VALUE,volonte:r.DEFAULT_VALUE,percentageCC:r.DEFAULT_VALUE,parade:r.DEFAULT_VALUE,maitriseCritique:r.DEFAULT_VALUE,maitriseDos:r.DEFAULT_VALUE,maitriseBerzerk:r.DEFAULT_VALUE,maitriseSoins:r.DEFAULT_VALUE,resistancesDos:r.DEFAULT_VALUE,resistancesCritique:r.DEFAULT_VALUE,pa:r.DEFAULT_VALUE,pm:r.DEFAULT_VALUE,po:r.DEFAULT_VALUE,pw:r.DEFAULT_VALUE,di:r.DEFAULT_VALUE,resistancesElementairesMajeur:r.DEFAULT_VALUE,armureDonnee:r.DEFAULT_VALUE,soinsRealise:r.DEFAULT_VALUE,diIndirect:r.DEFAULT_VALUE})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"})};var ne=class r{aptitudesFormService=m(D);urlServices=m(g);code=new L("");code$=this.code.asObservable();mapCode=new Map([[1,-7],[16,80],[17,-2],[27,-4],[36,-3],[23,120],[26,1052],[30,1053],[31,20],[18,173],[19,175],[20,171],[21,-5],[37,177],[9,150],[10,875],[11,149],[12,180],[13,1055],[14,26],[15,71],[34,988],[2,31],[3,41],[4,160],[5,191],[8,-6],[35,35],[6,39],[38,-9],[39,-8]]);constructor(){this.aptitudesFormService.recapStat$.subscribe(()=>{this.updateCode()})}updateCode(){let i="",e=this.aptitudesFormService.form.value;if(!e){this.code.next("");return}e.percentagePV&&(i+=`1:${e.percentagePV}-`),e.resistancesElementaires&&(i+=`16:${e.resistancesElementaires}-`),e.barriere&&(i+=`17:${e.barriere}-`),e.soinsRecus&&(i+=`27:${e.soinsRecus}-`),e.pdvArmure&&(i+=`36:${e.pdvArmure}-`),e.maitriseElem&&(i+=`23:${e.maitriseElem}-`),e.maitrisesMelee&&(i+=`26:${e.maitrisesMelee}-`),e.maitrisesDistance&&(i+=`30:${e.maitrisesDistance}-`),e.pdv&&(i+=`31:${e.pdv}-`),e.tacle&&(i+=`18:${e.tacle}-`),e.esquive&&(i+=`19:${e.esquive}-`),e.initiative&&(i+=`20:${e.initiative}-`),e.tacleEsquive&&(i+=`21:${e.tacleEsquive}-`),e.volonte&&(i+=`37:${e.volonte}-`),e.percentageCC&&(i+=`9:${e.percentageCC}-`),e.parade&&(i+=`10:${e.parade}-`),e.maitriseCritique&&(i+=`11:${e.maitriseCritique}-`),e.maitriseDos&&(i+=`12:${e.maitriseDos}-`),e.maitriseBerzerk&&(i+=`13:${e.maitriseBerzerk}-`),e.maitriseSoins&&(i+=`14:${e.maitriseSoins}-`),e.resistancesDos&&(i+=`15:${e.resistancesDos}-`),e.resistancesCritique&&(i+=`34:${e.resistancesCritique}-`),e.pa&&(i+=`2:${e.pa}-`),e.pm&&(i+=`3:${e.pm}-`),e.po&&(i+=`4:${e.po}-`),e.pw&&(i+=`5:${e.pw}-`),e.di&&(i+=`8:${e.di}-`),e.resistancesElementairesMajeur&&(i+=`35:${e.resistancesElementairesMajeur}-`),e.armureDonnee&&(i+=`6:${e.armureDonnee}-`),e.soinsRealise&&(i+=`38:${e.soinsRealise}-`),e.diIndirect&&(i+=`39:${e.diIndirect}-`),i.endsWith("-")&&(i=i.slice(0,-1)),this.urlServices.setAptitudesInUrl(i),this.code.next(i)}saveCode(i){let e=i.split("-"),t={};e.forEach(s=>{let[a,o]=s.split(":"),c=parseInt(a,10),n=parseInt(o,10),u=this.mapCode.get(c);if(u!==void 0)switch(u){case-7:t.percentagePV=n;break;case 80:t.resistancesElementaires=n;break;case-2:t.barriere=n;break;case-4:t.soinsRecus=n;break;case-3:t.pdvArmure=n;break;case 120:t.maitriseElem=n;break;case 1052:t.maitrisesMelee=n;break;case 1053:t.maitrisesDistance=n;break;case 20:t.pdv=n;break;case 173:t.tacle=n;break;case 175:t.esquive=n;break;case 171:t.initiative=n;break;case-5:t.tacleEsquive=n;break;case 177:t.volonte=n;break;case 150:t.percentageCC=n;break;case 875:t.parade=n;break;case 149:t.maitriseCritique=n;break;case 180:t.maitriseDos=n;break;case 1055:t.maitriseBerzerk=n;break;case 26:t.maitriseSoins=n;break;case 71:t.resistancesDos=n;break;case 988:t.resistancesCritique=n;break;case 31:t.pa=n;break;case 41:t.pm=n;break;case 160:t.po=n;break;case 191:t.pw=n;break;case-6:t.di=n;break;case 35:t.resistancesElementairesMajeur=n;break;case 39:t.armureDonnee=n;break;case-9:t.soinsRealise=n;break;case-8:t.diIndirect=n;break}}),this.aptitudesFormService.setValue(t)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"})};export{we as a,ke as b,D as c,ne as d};
