import{a as f}from"./chunk-ZNSHEKPZ.js";import{Ad as N,Bd as D,Eb as r,Fb as i,Gb as n,Hb as a,Nb as b,Ra as l,Sa as t,_c as _,ad as h,ba as P,bc as o,cb as E,cc as m,dc as u,ec as I,ed as O,id as U,lc as p,ld as F,mc as s,n as g,o as S,pd as B,sd as T,wc as y,yd as z,zd as V}from"./chunk-3FMVFB55.js";import"./chunk-6MDQTQU3.js";var R=class v{control=y.required();aptitudesRestantes=y.required();maxValue=null;ngOnInit(){this.maxValue=this.getMaxValue(),this.control().valueChanges.subscribe(d=>{if(d!=null){if(d<0){this.control().setValue(0,{emitEvent:!1});return}if(this.maxValue!==null&&d>this.maxValue){this.control().setValue(this.maxValue,{emitEvent:!1});return}}})}getMaxValue(){let d=this.control().validator;if(!d)return null;let c=new U(999999),e=d(c);return e&&e.max?e.max.max:null}incrementValue(d,c){let e=d;if(c?.shiftKey?e=d>0?d*Math.min(10,this.aptitudesRestantes()):d*10:c?.ctrlKey&&(e=d>0?this.aptitudesRestantes():-(this.control().value||0)),e>0&&this.aptitudesRestantes()<=0)return;let A=(+this.control().value||0)+e;this.control().setValue(A)}static \u0275fac=function(c){return new(c||v)};static \u0275cmp=E({type:v,selectors:[["app-input-aptitudes"]],inputs:{control:[1,"control"],aptitudesRestantes:[1,"aptitudesRestantes"]},decls:5,vars:1,consts:[[3,"click"],[3,"formControl"]],template:function(c,e){c&1&&(i(0,"button",0),b("click",function(A){return e.incrementValue(-1,A)}),o(1,"-"),n(),a(2,"input",1),i(3,"button",0),b("click",function(A){return e.incrementValue(1,A)}),o(4,"+"),n()),c&2&&(t(2),r("formControl",e.control()))},dependencies:[B,h,O,F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;border:2px solid #415A77;border-radius:50%;box-shadow:2px 3px 2px #f0f0f033;cursor:pointer;width:30px;height:30px;background-color:#fff;font-weight:600;font-size:17px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:2px 3px 2px #f0f0f033,inset 3px 2px 5px #1b263b}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:28px;border:2px solid #415A77;text-align:center;border-radius:25%}"]})};var C=class v{imageService=P(T);aptitudesFormService=P(N);IdActionsEnum=_;levelFormService=P(D);nbPointRestantIntelligence=f(S([this.levelFormService.level$,this.aptitudesFormService.recapStat$]).pipe(g(([d])=>Math.floor((+d+2)/4)-this.aptitudesFormService.nbPointUseInIntelligence())),{initialValue:0});nbPointRestantForce=f(S([this.levelFormService.level$,this.aptitudesFormService.recapStat$]).pipe(g(([d])=>Math.floor((+d+1)/4)-this.aptitudesFormService.nbPointUseInForce())),{initialValue:0});nbPointRestantAgilite=f(S([this.levelFormService.level$,this.aptitudesFormService.recapStat$]).pipe(g(([d])=>Math.floor(+d/4)-this.aptitudesFormService.nbPointUseInAgilite())),{initialValue:0});nbPointRestantChance=f(S([this.levelFormService.level$,this.aptitudesFormService.recapStat$]).pipe(g(([d])=>Math.floor((+d-1)/4)-this.aptitudesFormService.nbPointUseInChance())),{initialValue:0});nbPointRestantMajeur=f(S([this.levelFormService.level$,this.aptitudesFormService.recapStat$]).pipe(g(([d])=>+d<25?0:+d<75?1:+d<125?2:+d<175?3:4)),{initialValue:0});static \u0275fac=function(c){return new(c||v)};static \u0275cmp=E({type:v,selectors:[["app-aptitudes"]],decls:251,vars:209,consts:[[1,"body"],[1,"column"],[1,"card"],[1,"header"],[1,"content"],[1,"row"],[1,"aptitudes-name"],["alt","Point de vie",3,"src"],[1,"aptitudes-value"],[3,"control","aptitudesRestantes"],["alt","R\xE9sistances \xE9l\xE9mentaires",3,"src"],["alt","Barri\xE8re",3,"src"],["alt","Soins re\xE7us",3,"src"],["alt","Point de vie en armure",3,"src"],["alt","Maitrises \xE9l\xE9mentaires",3,"src"],["alt","Maitrises m\xEAl\xE9e",3,"src"],["alt","Maitrises distances",3,"src"],["alt","Tacle",3,"src"],["alt","Esquive",3,"src"],["alt","Initiative",3,"src"],["alt","Tacle Esquive",3,"src"],["alt","Volont\xE9",3,"src"],["alt","Coup critique",3,"src"],["alt","Parade",3,"src"],["alt","Maitrises critiques",3,"src"],["alt","Maitrises dos",3,"src"],["alt","Maitrises berzerk",3,"src"],["alt","Maitrises soin",3,"src"],["alt","R\xE9sistances dos",3,"src"],["alt","R\xE9sistances critiques",3,"src"],["alt","PA",3,"src"],["alt","PM",3,"src"],["alt","Port\xE9e",3,"src"],["alt","PW",3,"src"],["alt","Contr\xF4le",3,"src"],["alt","Dommages inflig\xE9s",3,"src"],["alt","RESISTANCES_ELEMENTAIRE",3,"src"]],template:function(c,e){c&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),o(5),p(6,"translate"),n(),i(7,"span"),o(8),p(9,"translate"),n()(),i(10,"div",4)(11,"div",5)(12,"div",6),a(13,"img",7),o(14),p(15,"translate"),n(),i(16,"div",8),a(17,"app-input-aptitudes",9),n()(),i(18,"div",5)(19,"div",6),a(20,"img",10),o(21),p(22,"translate"),n(),i(23,"div",8),a(24,"app-input-aptitudes",9),n()(),i(25,"div",5)(26,"div",6),a(27,"img",11),o(28),p(29,"translate"),n(),i(30,"div",8),a(31,"app-input-aptitudes",9),n()(),i(32,"div",5)(33,"div",6),a(34,"img",12),o(35),p(36,"translate"),n(),i(37,"div",8),a(38,"app-input-aptitudes",9),n()(),i(39,"div",5)(40,"div",6),a(41,"img",13),o(42),p(43,"translate"),n(),i(44,"div",8),a(45,"app-input-aptitudes",9),n()()()(),i(46,"div",2)(47,"div",3)(48,"span"),o(49),p(50,"translate"),n(),i(51,"span"),o(52),p(53,"translate"),n()(),i(54,"div",4)(55,"div",5)(56,"div",6),a(57,"img",14),o(58),p(59,"translate"),n(),i(60,"div",8),a(61,"app-input-aptitudes",9),n()(),i(62,"div",5)(63,"div",6),a(64,"img",15),o(65),p(66,"translate"),n(),i(67,"div",8),a(68,"app-input-aptitudes",9),n()(),i(69,"div",5)(70,"div",6),a(71,"img",16),o(72),p(73,"translate"),n(),i(74,"div",8),a(75,"app-input-aptitudes",9),n()(),i(76,"div",5)(77,"div",6),a(78,"img",7),o(79),p(80,"translate"),n(),i(81,"div",8),a(82,"app-input-aptitudes",9),n()()()(),i(83,"div",2)(84,"div",3)(85,"span"),o(86),p(87,"translate"),n(),i(88,"span"),o(89),p(90,"translate"),n()(),i(91,"div",4)(92,"div",5)(93,"div",6),a(94,"img",17),o(95),p(96,"translate"),n(),i(97,"div",8),a(98,"app-input-aptitudes",9),n()(),i(99,"div",5)(100,"div",6),a(101,"img",18),o(102),p(103,"translate"),n(),i(104,"div",8),a(105,"app-input-aptitudes",9),n()(),i(106,"div",5)(107,"div",6),a(108,"img",19),o(109),p(110,"translate"),n(),i(111,"div",8),a(112,"app-input-aptitudes",9),n()(),i(113,"div",5)(114,"div",6),a(115,"img",20),o(116),p(117,"translate"),n(),i(118,"div",8),a(119,"app-input-aptitudes",9),n()(),i(120,"div",5)(121,"div",6),a(122,"img",21),o(123),p(124,"translate"),n(),i(125,"div",8),a(126,"app-input-aptitudes",9),n()()()()(),i(127,"div",1)(128,"div",2)(129,"div",3)(130,"span"),o(131),p(132,"translate"),n(),i(133,"span"),o(134),p(135,"translate"),n()(),i(136,"div",4)(137,"div",5)(138,"div",6),a(139,"img",22),o(140),p(141,"translate"),n(),i(142,"div",8),a(143,"app-input-aptitudes",9),n()(),i(144,"div",5)(145,"div",6),a(146,"img",23),o(147),p(148,"translate"),n(),i(149,"div",8),a(150,"app-input-aptitudes",9),n()(),i(151,"div",5)(152,"div",6),a(153,"img",24),o(154),p(155,"translate"),n(),i(156,"div",8),a(157,"app-input-aptitudes",9),n()(),i(158,"div",5)(159,"div",6),a(160,"img",25),o(161),p(162,"translate"),n(),i(163,"div",8),a(164,"app-input-aptitudes",9),n()(),i(165,"div",5)(166,"div",6),a(167,"img",26),o(168),p(169,"translate"),n(),i(170,"div",8),a(171,"app-input-aptitudes",9),n()(),i(172,"div",5)(173,"div",6),a(174,"img",27),o(175),p(176,"translate"),n(),i(177,"div",8),a(178,"app-input-aptitudes",9),n()(),i(179,"div",5)(180,"div",6),a(181,"img",28),o(182),p(183,"translate"),n(),i(184,"div",8),a(185,"app-input-aptitudes",9),n()(),i(186,"div",5)(187,"div",6),a(188,"img",29),o(189),p(190,"translate"),n(),i(191,"div",8),a(192,"app-input-aptitudes",9),n()()()(),i(193,"div",2)(194,"div",3)(195,"span"),o(196),p(197,"translate"),n(),i(198,"span"),o(199),p(200,"translate"),n()(),i(201,"div",4)(202,"div",5)(203,"div",6),a(204,"img",30),o(205),p(206,"translate"),n(),i(207,"div",8),a(208,"app-input-aptitudes",9),n()(),i(209,"div",5)(210,"div",6),a(211,"img",31),o(212),p(213,"translate"),n(),i(214,"div",8),a(215,"app-input-aptitudes",9),n()(),i(216,"div",5)(217,"div",6),a(218,"img",32),o(219),p(220,"translate"),n(),i(221,"div",8),a(222,"app-input-aptitudes",9),n()(),i(223,"div",5)(224,"div",6),a(225,"img",33),o(226),p(227,"translate"),n(),i(228,"div",8),a(229,"app-input-aptitudes",9),n()(),i(230,"div",5)(231,"div",6),a(232,"img",34),o(233),p(234,"translate"),n(),i(235,"div",8),a(236,"app-input-aptitudes",9),n()(),i(237,"div",5)(238,"div",6),a(239,"img",35),o(240),p(241,"translate"),n(),i(242,"div",8),a(243,"app-input-aptitudes",9),n()(),i(244,"div",5)(245,"div",6),a(246,"img",36),o(247),p(248,"translate"),n(),i(249,"div",8),a(250,"app-input-aptitudes",9),n()()()()()()),c&2&&(t(5),m(s(6,131,"aptitudes.intelligence")),t(3),I("",s(9,133,"aptitudes.restant")," ",e.nbPointRestantIntelligence()),t(5),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.POINT_DE_VIE),l),t(),m(s(15,135,"aptitudes.%-vie")),t(3),r("control",e.aptitudesFormService.form.controls.percentagePV)("aptitudesRestantes",e.nbPointRestantIntelligence()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.RESISTANCES_ELEMENTAIRE),l),t(),m(s(22,137,"aptitudes.resistances-elem")),t(3),r("control",e.aptitudesFormService.form.controls.resistancesElementaires)("aptitudesRestantes",e.nbPointRestantIntelligence()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.BARRIERE),l),t(),m(s(29,139,"aptitudes.barriere")),t(3),r("control",e.aptitudesFormService.form.controls.barriere)("aptitudesRestantes",e.nbPointRestantIntelligence()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.SOINS_RECUE),l),t(),m(s(36,141,"aptitudes.soins-recus")),t(3),r("control",e.aptitudesFormService.form.controls.soinsRecus)("aptitudesRestantes",e.nbPointRestantIntelligence()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.POINT_DE_VIE_EN_ARMURE),l),t(),m(s(43,143,"aptitudes.%-armure")),t(3),r("control",e.aptitudesFormService.form.controls.pdvArmure)("aptitudesRestantes",e.nbPointRestantIntelligence()),t(4),m(s(50,145,"aptitudes.force")),t(3),I("",s(53,147,"aptitudes.restant")," ",e.nbPointRestantForce()),t(5),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_ELEMENTAIRES),l),t(),m(s(59,149,"aptitudes.maitrises-elem")),t(3),r("control",e.aptitudesFormService.form.controls.maitriseElem)("aptitudesRestantes",e.nbPointRestantForce()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_MELEE),l),t(),m(s(66,151,"aptitudes.maitrises-melee")),t(3),r("control",e.aptitudesFormService.form.controls.maitrisesMelee)("aptitudesRestantes",e.nbPointRestantForce()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_DISTANCES),l),t(),m(s(73,153,"aptitudes.maitrises-distance")),t(3),r("control",e.aptitudesFormService.form.controls.maitrisesDistance)("aptitudesRestantes",e.nbPointRestantForce()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.POINT_DE_VIE),l),t(),m(s(80,155,"aptitudes.vie")),t(3),r("control",e.aptitudesFormService.form.controls.pdv)("aptitudesRestantes",e.nbPointRestantForce()),t(4),m(s(87,157,"aptitudes.agilite")),t(3),I("",s(90,159,"aptitudes.restant")," ",e.nbPointRestantAgilite()),t(5),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.TACLE),l),t(),u(" ",s(96,161,"aptitudes.tacle")),t(3),r("control",e.aptitudesFormService.form.controls.tacle)("aptitudesRestantes",e.nbPointRestantAgilite()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.ESQUIVE),l),t(),m(s(103,163,"aptitudes.esquive")),t(3),r("control",e.aptitudesFormService.form.controls.esquive)("aptitudesRestantes",e.nbPointRestantAgilite()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.INITIATIVE),l),t(),m(s(110,165,"aptitudes.initiative")),t(3),r("control",e.aptitudesFormService.form.controls.initiative)("aptitudesRestantes",e.nbPointRestantAgilite()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.TACLE),l),t(),m(s(117,167,"aptitudes.tacle-esquive")),t(3),r("control",e.aptitudesFormService.form.controls.tacleEsquive)("aptitudesRestantes",e.nbPointRestantAgilite()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.VOLONTE),l),t(),m(s(124,169,"aptitudes.volonte")),t(3),r("control",e.aptitudesFormService.form.controls.volonte)("aptitudesRestantes",e.nbPointRestantAgilite()),t(5),m(s(132,171,"aptitudes.chance")),t(3),I("",s(135,173,"aptitudes.restant")," ",e.nbPointRestantChance()),t(5),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.COUP_CRITIQUE),l),t(),u(" ",s(141,175,"aptitudes.%-critique")),t(3),r("control",e.aptitudesFormService.form.controls.percentageCC)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.PARADE),l),t(),m(s(148,177,"aptitudes.%-parade")),t(3),r("control",e.aptitudesFormService.form.controls.parade)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_CRITIQUES),l),t(),u(" ",s(155,179,"aptitudes.maitrises-critique")),t(3),r("control",e.aptitudesFormService.form.controls.maitriseCritique)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_DOS),l),t(),u(" ",s(162,181,"aptitudes.maitrises-dos")),t(3),r("control",e.aptitudesFormService.form.controls.maitriseDos)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_BERZERK),l),t(),u(" ",s(169,183,"aptitudes.maitrises-berzerk")),t(3),r("control",e.aptitudesFormService.form.controls.maitriseBerzerk)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.MAITRISES_SOIN),l),t(),u(" ",s(176,185,"aptitudes.maitrises-soin")),t(3),r("control",e.aptitudesFormService.form.controls.maitriseSoins)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.RESISTANCES_DOS),l),t(),u(" ",s(183,187,"aptitudes.resistances-dos")),t(3),r("control",e.aptitudesFormService.form.controls.resistancesDos)("aptitudesRestantes",e.nbPointRestantChance()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.RESISTANCES_CRITIQUES),l),t(),u(" ",s(190,189,"aptitudes.resistances-critique")),t(3),r("control",e.aptitudesFormService.form.controls.resistancesCritique)("aptitudesRestantes",e.nbPointRestantChance()),t(4),m(s(197,191,"aptitudes.majeur")),t(3),I("",s(200,193,"aptitudes.restant")," ",e.nbPointRestantMajeur()),t(5),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.PA),l),t(),u(" ",s(206,195,"aptitudes.pa")),t(3),r("control",e.aptitudesFormService.form.controls.pa)("aptitudesRestantes",e.nbPointRestantMajeur()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.PM),l),t(),u(" ",s(213,197,"aptitudes.pm")),t(3),r("control",e.aptitudesFormService.form.controls.pm)("aptitudesRestantes",e.nbPointRestantMajeur()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.PORTEE),l),t(),u(" ",s(220,199,"aptitudes.po")),t(3),r("control",e.aptitudesFormService.form.controls.po)("aptitudesRestantes",e.nbPointRestantMajeur()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.BOOST_PW),l),t(),u(" ",s(227,201,"aptitudes.pw")),t(3),r("control",e.aptitudesFormService.form.controls.pw)("aptitudesRestantes",e.nbPointRestantMajeur()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.CONTROLE),l),t(),u(" ",s(234,203,"aptitudes.controle")),t(3),r("control",e.aptitudesFormService.form.controls.controle)("aptitudesRestantes",e.nbPointRestantMajeur()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.DI),l),t(),u(" ",s(241,205,"aptitudes.di")),t(3),r("control",e.aptitudesFormService.form.controls.di)("aptitudesRestantes",e.nbPointRestantMajeur()),t(3),r("src",e.imageService.getActionIdUrl(e.IdActionsEnum.RESISTANCES_ELEMENTAIRE),l),t(),u(" ",s(248,207,"aptitudes.resistances-elem")),t(3),r("control",e.aptitudesFormService.form.controls.resistancesElementairesMajeur)("aptitudesRestantes",e.nbPointRestantMajeur()))},dependencies:[V,R,z],styles:[".body[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:space-around}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:45%}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d1b2a,#415a77);border-radius:15px;padding:5px;color:#fff;min-width:300px;display:flex;flex-direction:column;box-shadow:0 8px 8px #0009;position:relative;margin-bottom:15px}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;border-bottom:3px solid #415A77;margin-bottom:10px}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin:auto}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:5px}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .aptitudes-name[_ngcontent-%COMP%]{display:flex;margin-right:auto}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .aptitudes-name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;width:22px;height:22px}.body[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .aptitudes-value[_ngcontent-%COMP%]{width:100px}"]})};var j=class v{static \u0275fac=function(c){return new(c||v)};static \u0275cmp=E({type:v,selectors:[["app-aptitudes-router"]],decls:1,vars:0,template:function(c,e){c&1&&a(0,"app-aptitudes")},dependencies:[C],styles:["[_nghost-%COMP%]{display:block;margin-top:10px}"]})};export{j as AptitudesRouterComponent};
