import{h as Te,i as Ee}from"./chunk-7QRSIARN.js";import{a as B,b as me,c as fe}from"./chunk-4NYJDTXD.js";import{a as Oe,b as ye,c as Se}from"./chunk-VFWH2TB4.js";import"./chunk-6YP6FXI5.js";import{c as ge,d as he,t as W,u as A,x as xe,y as Pe,z as ve}from"./chunk-J7BVBDDF.js";import{$c as L,Ab as ce,B as Z,Bb as N,C as K,Cd as be,D as H,Da as O,Dd as Me,Ed as U,Fa as y,Ga as S,Ia as b,Ja as M,Ka as _,L as h,La as a,Ma as s,Na as g,P as m,Q as p,Ra as P,Ta as C,Va as r,Xc as ae,Y as x,Yc as le,_c as q,ad as $,dd as se,eb as V,ed as k,fb as T,ga as u,h as F,hb as f,hd as pe,ia as l,ib as v,jb as R,kb as ne,lb as ie,ld as de,mb as oe,nb as re,p as Y,pa as ee,qa as w,qd as _e,ua as te,ub as E,vb as I,wd as ue,yb as Q,zd as Ce}from"./chunk-LALB2U32.js";import"./chunk-EQDQRRRY.js";function we(o,t){if(o&1&&(a(0,"div",2),g(1,"img",3),s()),o&2){let e=r();V("background-color",e.colorRarityService.mapColors.get(e.item().rarity)),l(),_("src",e.imageService.getItemUrl(e.item().idImage),u)}}function Ae(o,t){if(o&1&&g(0,"img",1),o&2){let e=r();_("src",e.backgroundItemType(),u)}}var z=class o{colorRarityService=h(me);itemChooseService=h(xe);itemTypeFormServices=h(he);imageService=h(k);backgroundItemType=N.required();itemType=N();indexItem=N(0);level=ce();item=U(Me(this.itemType).pipe(Y(t=>t!==void 0),Z(t=>this.itemChooseService.getObsItem(t)),F(t=>t[this.indexItem()]),H(t=>this.level.emit(t?.level??999))),{initialValue:void 0});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=w({type:o,selectors:[["app-image-item"]],inputs:{backgroundItemType:[1,"backgroundItemType"],itemType:[1,"itemType"],indexItem:[1,"indexItem"]},outputs:{level:"level"},decls:2,vars:1,consts:[[1,"itemPresent",3,"backgroundColor"],["alt","noItem",1,"noItem",3,"src"],[1,"itemPresent"],["alt","items","appFallback","",3,"src"]],template:function(e,i){e&1&&O(0,we,2,3,"div",0)(1,Ae,1,1,"img",1),e&2&&y(i.item()?0:1)},dependencies:[B],styles:["[_nghost-%COMP%]{cursor:pointer}[_nghost-%COMP%]:hover{transform:scale(1.2)}[_nghost-%COMP%]   .noItem[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .itemPresent[_ngcontent-%COMP%]{width:30px;height:30px;position:relative}[_nghost-%COMP%]   .itemPresent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px}"]})};var De=(o,t)=>t.idMob;function Ve(o,t){if(o&1&&g(0,"img",3),o&2){let e=t.$implicit,i=r();_("src",i.imageService.getChasseColorUrlById(e),u)}}function Ue(o,t){if(o&1&&(a(0,"span"),f(1),E(2,"translate"),s()),o&2){let e=r();l(),ne(" (",I(2,2,"description-sublimation.level-max")," ",e.sublimationsDescriptionsSignal().levelMax,")")}}function Fe(o,t){if(o&1){let e=P();a(0,"img",8),E(1,"translate"),C("click",function(){m(e);let n=r();return p(n.navigateToCraftku())}),s()}if(o&2){let e=r();_("src",e.imageService.getItemUrl(71919810),u)("matTooltip",I(1,2,"item.craftable"))}}function Re(o,t){if(o&1){let e=P();a(0,"img",9),E(1,"translate"),C("click",function(){let n=m(e).$implicit,c=r();return p(c.openEncyclopedieForMonster(n.idMob))}),s()}if(o&2){let e=t.$implicit,i=r();T("breche",e.idMob===-1),_("src",i.getUrlMonster(e),u)("alt","")("matTooltip",`${I(1,5,"item.boss-drop")} (${i.nameMonster(e)})`)}}var j=class o{translateService=h(q);imageService=h(k);levelSignal=x(1);sublimationsDescriptionsSignal=x(void 0);set level(t){this.levelSignal.set(t)}set sublimationsDescriptions(t){this.sublimationsDescriptionsSignal.set(t)}openEncyclopedieForMonster(t){t!==-1&&window.open("https://www.wakfu.com/fr/mmorpg/encyclopedie/monstres/"+t)}getUrlMonster(t){if(t.idMob!==-1&&t.idMob!==4189)return this.imageService.getMonsterUrl(t.gfxId);if(t.idMob===4189)return"breche/mimic.png";switch(t.name.fr){case"Br\xE8che Tainela":return"breche/tainela.png";case"Br\xE8che Sufokia":return"breche/sufokia.png";case"Br\xE8che Amakna":return"breche/amakna.png";case"Br\xE8che Bonta":return"breche/bonta.png";case"Br\xE8che Moon":return"breche/moon.png";case"Br\xE8che Osamosa":return"breche/osamosa.png";case"Br\xE8che Shukrute":return"breche/shukrute.png";case"Br\xE8che Shukrute Ultime":return"breche/shukrute-ultime.png";case"Br\xE8che Zinit Ultime":return"breche/zinit-ultime.png";case"Br\xE8che Frigost Ultime":return"breche/frigost-ultime.png"}return""}navigateToCraftku(){window.open("https://craftkfu.waklab.fr/?"+this.sublimationsDescriptionsSignal()?.id,"_blank")}nameMonster(t){return t.name[this.translateService.currentLang]??""}getUrlSublimationImage(){if(!this.levelSignal()||!this.sublimationsDescriptionsSignal())return"";if(this.sublimationsDescriptionsSignal()?.isEpic||this.sublimationsDescriptionsSignal()?.isRelic)return this.imageService.getItemUrl(this.sublimationsDescriptionsSignal().gfxId);let t=81228822;switch(this.levelSignal()){case 1:t=81228822;break;case 2:t=81228823;break;default:t=81227111;break}return this.imageService.getItemUrl(t)}getSublimationTitle(){return this.sublimationsDescriptionsSignal()?this.sublimationsDescriptionsSignal().title[this.translateService.currentLang]:""}getSublimationDescription(){if(!this.sublimationsDescriptionsSignal())return"";let e=this.sublimationsDescriptionsSignal().description[this.translateService.currentLang];return this.formatDescription(e)}formatDescription(t){if(!this.sublimationsDescriptionsSignal())return"";let e=this.sublimationsDescriptionsSignal().baseEffect,i=t;return e.forEach((n,c)=>{let d=n.baseValue+n.pas*(this.levelSignal()-1),D=new RegExp(`\\$\\{${c}\\}`,"g");i=i.replace(D,d.toString())}),i}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=w({type:o,selectors:[["app-description-sublimation"]],decls:15,vars:5,consts:[[1,"header"],["alt","",3,"src"],[1,"chasses"],[3,"src","alt"],[1,"content"],[1,"craftAndDrop"],["alt","craftable",1,"craftable",3,"src","matTooltip"],["appFallback","",3,"breche","src","alt","matTooltip"],["alt","craftable",1,"craftable",3,"click","src","matTooltip"],["appFallback","",3,"click","src","alt","matTooltip"]],template:function(e,i){if(e&1&&(a(0,"div",0),g(1,"img",1),a(2,"span"),f(3),s(),a(4,"div",2),b(5,Ve,1,1,"img",3,S),s(),O(7,Ue,3,4,"span"),s(),a(8,"div",4)(9,"div"),f(10),s(),a(11,"div",5),O(12,Fe,2,4,"img",6),b(13,Re,2,7,"img",7,De),s()()),e&2){let n;l(),_("src",i.getUrlSublimationImage(),u),l(2),v(i.getSublimationTitle()),l(2),M((n=i.sublimationsDescriptionsSignal())==null?null:n.slotColorPattern),l(2),y(i.sublimationsDescriptionsSignal().levelMax>0?7:-1),l(3),R(" ",i.getSublimationDescription()," "),l(2),y(i.sublimationsDescriptionsSignal().isCraftable?12:-1),l(),M(i.sublimationsDescriptionsSignal().bossDropable)}},dependencies:[le,ae,$,B,L],styles:["[_nghost-%COMP%]{background:linear-gradient(145deg,#0d1b2a,#415a77);border-radius:15px;padding:5px;color:#fff;height:100%;width:100%;display:flex;flex-direction:column;box-shadow:0 8px 8px #0009;position:relative;max-width:500px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{margin:auto auto 10px;display:flex;align-items:center;gap:10px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:10px;border-top:3px solid #415A77;width:100%;height:100%;display:flex;justify-content:space-around;flex-direction:column}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;justify-items:center;flex-wrap:wrap;gap:10px;margin-top:10px;width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;cursor:pointer}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.2)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   .breche[_ngcontent-%COMP%]{width:200px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   .craftable[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 5px gold)}"]})};var Ne=(o,t)=>"chasse-"+o,qe=(o,t)=>t.color+"-"+t.idAction+"-"+o;function Le(o,t){if(o&1){let e=P();a(0,"div",27),C("dblclick",function(){m(e);let n=r().$index,c=r().$index,d=r(2);return p(d.chasseFormService.clearEffect(c,n))}),a(1,"span"),f(2),s(),g(3,"img",25),s()}if(o&2){let e=r().$implicit,i=r(3);l(2),v(e.lvl),l(),_("src",i.imageService.getActionIdUrl(e.idAction),u)}}function $e(o,t){if(o&1){let e=P();a(0,"div",24),C("click",function(){let n=m(e).$index,c=r().$index,d=r(2);return p(d.applyEffet(n,c,d.getLevelItem(c)))})("contextmenu",function(n){let c=m(e).$index,d=r().$index,D=r(2);return n.preventDefault(),p(D.changeJokerState(c,d))}),g(1,"img",25),O(2,Le,4,2,"div",26),s()}if(o&2){let e=t.$implicit,i=r(3);V("cursor",i.cursorDestructStyle(e,i.effectToApply())),l(),_("src",i.imageService.getChasseColorUrl(e),u),l(),y(e.idAction?2:-1)}}function Be(o,t){if(o&1){let e=P();a(0,"div",18)(1,"app-image-item",19),C("level",function(n){let c=m(e).$index,d=r(2);return p(d.setLevelItem(n,c))})("click",function(){let n=m(e).$index,c=r(2);return p(c.selectItemType(c.displayTypeItem[n].itemType,n))}),s(),b(2,$e,3,4,"div",20,qe),a(4,"button",21),C("click",function(){let n=m(e).$index,c=r(2);return p(c.chasseFormService.clearChasseCombinaison(n))}),f(5,"X"),s(),a(6,"div",22),C("click",function(){let n=m(e).$index,c=r(2);return p(c.applySublimation(n))})("contextmenu",function(n){let c=m(e).$index,d=r(2);return n.preventDefault(),p(d.chasseFormService.removeSublimation(c))}),a(7,"img",23),C("click",function(){let n=m(e).$index,c=r(2);return p(c.selectItemType(c.displayTypeItem[n].itemType,n))})("mouseenter",function(n){let c=m(e).$implicit,d=r(2);return p(d.openTooltip(n,c.sublimation,(c.sublimation==null?null:c.sublimation.level)||1))})("mouseleave",function(){m(e);let n=r(2);return p(n.onMouseLeave())}),s(),a(8,"span"),f(9),s()()()}if(o&2){let e=t.$implicit,i=t.$index,n=r(2);T("selected",n.indexItemTypeSelected()===i),l(),_("itemType",n.displayTypeItem[i].itemType)("indexItem",n.displayTypeItem[i].indexItem)("backgroundItemType",n.displayTypeItem[i].background),l(),M(e.chasses),l(4),T("invalid",e.sublimation&&!e.sublimation.isValid),l(),_("src",n.imageService.getItemTypeUrl(n.ItemTypeEnum.SUBLIMATIONS),u),l(2),v(n.nameSublimation(e.sublimation))}}function ze(o,t){if(o&1&&(g(0,"img",28),a(1,"span"),f(2),s()),o&2){let e=r(2);_("src",e.imageService.getItemUrl(e.enchantement().epique.idImage),u),l(2),v(e.nameSublimationEpicRelic(e.enchantement().epique))}}function je(o,t){o&1&&g(0,"img",11)}function Ge(o,t){if(o&1&&(g(0,"img",28),a(1,"span"),f(2),s()),o&2){let e=r(2);_("src",e.imageService.getItemUrl(e.enchantement().relique.idImage),u),l(2),v(e.nameSublimationEpicRelic(e.enchantement().relique))}}function Qe(o,t){o&1&&g(0,"img",13)}function We(o,t){if(o&1&&g(0,"img",25),o&2){let e=t.$implicit,i=r(3);_("src",i.itemTypeService.getLogo(e),u)}}function Xe(o,t){if(o&1){let e=P();a(0,"button",29),C("click",function(){let n=m(e).$implicit,c=r(2);return p(c.chooseEffet(n))}),g(1,"img",25),a(2,"span"),f(3),E(4,"translate"),s(),a(5,"div",30),b(6,We,1,1,"img",25,S),s()()}if(o&2){let e,i=t.$implicit,n=r(2);T("selected",n.effectToApply()&&((e=n.effectToApply())==null?null:e.id)===i.id)("double",n.effectIsDouble(i)),l(),_("src",n.imageService.getChasseColorUrl(i.chasse),u),l(2),v(I(4,6,i.libelle)),l(3),M(i.logos)}}function Je(o,t){if(o&1&&g(0,"img",25),o&2){let e=t.$implicit,i=r(3);_("src",i.imageService.getChasseColorUrlById(e),u)}}function Ye(o,t){if(o&1){let e=P();a(0,"img",34),C("click",function(){let n=m(e).$implicit,c=r().$implicit,d=r(2);return p(d.chooseSublimation(c,n.level))})("mouseenter",function(n){let c=m(e).$implicit,d=r().$implicit,D=r(2);return p(D.openTooltip(n,d,c.level))})("mouseleave",function(){m(e);let n=r(3);return p(n.onMouseLeave())}),s()}if(o&2){let e=t.$implicit,i=r().$implicit,n=r(2);T("parchemins-selected",n.sublimationToApply()&&n.sublimationToApply().id===i.id&&n.levelSublimationToApply()===e.level),_("src",n.getUrlSublimationImage(e),u)}}function Ze(o,t){if(o&1&&(a(0,"div",31)(1,"span"),f(2),s(),a(3,"div",32)(4,"div"),b(5,Je,1,1,"img",25,S),s(),a(7,"div"),b(8,Ye,1,3,"img",33,S),s()()()),o&2){let e=t.$implicit,i=r(2);T("selected",i.sublimationToApply()&&i.sublimationToApply().id===e.id),l(2),v(i.nameItem(e)),l(3),M(e.slotColorPattern),l(3),M(e.linkSublimation)}}function Ke(o,t){if(o&1){let e=P();a(0,"div",35),C("click",function(){let n=m(e).$implicit,c=r(2);return p(c.chooseSublimation(n,1))})("click",function(){m(e);let n=r(2);return p(n.applySublimationEpicRelic())}),a(1,"span"),f(2),s(),a(3,"div")(4,"img",36),C("mouseenter",function(n){let c=m(e).$implicit,d=r(2);return p(d.openTooltip(n,c,1))})("mouseleave",function(){m(e);let n=r(2);return p(n.onMouseLeave())}),s()()()}if(o&2){let e=t.$implicit,i=r(2);T("selected",i.sublimationToApply()&&i.sublimationToApply().id===e.id),l(2),v(i.nameItem(e)),l(2),_("src",i.imageService.getItemUrl(e.gfxId),u)}}function He(o,t){if(o&1){let e=P();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"span"),f(4),E(5,"translate"),s(),a(6,"button",4),C("click",function(){m(e);let n=r();return p(n.chasseFormService.setDefaultValue())}),f(7,"X"),s()(),a(8,"div",5)(9,"mat-slider",6)(10,"input",7),re("ngModelChange",function(n){m(e);let c=r();return oe(c.level,n)||(c.level=n),p(n)}),s()(),b(11,Be,10,9,"div",8,Ne),a(13,"div",9)(14,"div",10),C("click",function(){m(e);let n=r();return p(n.chasseFormService.removeEpic())})("contextmenu",function(n){m(e);let c=r();return n.preventDefault(),p(c.chasseFormService.removeEpic())})("mouseenter",function(n){let c;m(e);let d=r();return p(d.openTooltip(n,(c=d.enchantement())==null?null:c.epique,1))})("mouseleave",function(){m(e);let n=r();return p(n.onMouseLeave())}),O(15,ze,3,2)(16,je,1,0,"img",11),s(),a(17,"div",12),C("click",function(){m(e);let n=r();return p(n.chasseFormService.removeRelic())})("contextmenu",function(n){m(e);let c=r();return n.preventDefault(),p(c.chasseFormService.removeRelic())})("mouseenter",function(n){let c;m(e);let d=r();return p(d.openTooltip(n,(c=d.enchantement())==null?null:c.relique,1))})("mouseleave",function(){m(e);let n=r();return p(n.onMouseLeave())}),O(18,Ge,3,2)(19,Qe,1,0,"img",13),s()()()()(),a(20,"div",1)(21,"div",2)(22,"div",3),f(23),E(24,"translate"),s(),a(25,"div",5),b(26,Xe,8,8,"button",14,S),s()()(),a(28,"div",1)(29,"div",2)(30,"div",3),f(31," Sublimations "),s(),a(32,"div",5)(33,"input",15),E(34,"translate"),C("ngModelChange",function(n){m(e);let c=r();return p(c.searchSubli.set(n))}),s(),a(35,"div",16),b(36,Ze,10,3,"div",17,S),s(),a(38,"div",16),b(39,Ke,5,4,"div",17,S),s()()()()}if(o&2){let e,i,n=r();l(4),v(I(5,8,"enchantement.chasses")),l(5),_("max",n.maxLevel),l(),ie("ngModel",n.level),l(),M(n.chasses()),l(4),y((e=n.enchantement())!=null&&e.epique?15:16),l(3),y((i=n.enchantement())!=null&&i.relique?18:19),l(5),R(" ",I(24,10,"enchantement.effets")," "),l(3),M(n.effetsDescription),l(7),_("ngModel",n.searchSubli())("placeholder",I(34,12,"enchantement.recherche-sublimation")),l(3),M(n.sublimationsList()),l(3),M(n.sublimationsEpiqueReliqueList())}}var G=class o extends Ce{sublimationService=h(Pe);translateService=h(q);tooltipService=h(fe);viewContainerRef=h(ee);imageService=h(k);chasseFormService=h(ve);chasses=U(this.chasseFormService.enchantement$.pipe(F(t=>t.chasseCombinaison)));enchantement=U(this.chasseFormService.enchantement$);itemTypeService=h(ge);sublimations=x(this.sublimationService.getSublimations());sublimationsEpiqueRelique=x(this.sublimationService.getSublimationsEpiqueRelique());searchSubli=x("");ItemTypeEnum=se;effectToApply=x(void 0);itemTypeSelected=x(void 0);sublimationToApply=x(void 0);levelSublimationToApply=x(void 0);indexItemTypeSelected=x(-1);levelFormService=h(be);level=11;maxLevel=11;itemLevels=new Map;constructor(){super(),this.levelFormService.level$.pipe(K(this.destroy$)).subscribe(t=>{this.maxLevel=W(t),this.level=Math.max(this.level,this.maxLevel)})}openTooltip(t,e,i){if(!e)return;let n=e;("isValid"in n||"epique"in n)&&(n=this.sublimationService.getSublimationById(e.id)),this.tooltipService.forceClose(),e&&(this.tooltipService.cancelClose(),this.tooltipService.openTooltip(this.viewContainerRef,j,t,{sublimationsDescriptions:n,level:i},[{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-10}],!0,!0))}sublimationsList=Q(()=>{this.chasses();let t=A(this.searchSubli());return this.sublimations()?.filter(e=>A(this.nameItem(e)).includes(t)||A(this.descriptionSublimation(e)).includes(t)).filter(e=>this.indexItemTypeSelected()===-1||this.chasseFormService.canApplySublimationWithItem(this.chasses()[this.indexItemTypeSelected()],e))});sublimationsEpiqueReliqueList=Q(()=>{let t=A(this.searchSubli());return this.sublimationsEpiqueRelique()?.filter(e=>A(this.nameItem(e)).includes(t)||A(this.descriptionSublimation(e)).includes(t))});displayTypeItem=[{indexItem:0,itemType:8,background:"./aptitudes/EmplacementCoiffe.png"},{indexItem:0,itemType:5,background:"./aptitudes/EmplacementAmulette.png"},{indexItem:0,itemType:9,background:"./aptitudes/EmplacementPlastron.png"},{indexItem:0,itemType:3,background:"./aptitudes/EmplacementAnneauGauche.png"},{indexItem:1,itemType:3,background:"./aptitudes/EmplacementAnneauDroite.png"},{indexItem:0,itemType:4,background:"./aptitudes/EmplacementBottes.png"},{indexItem:0,itemType:6,background:"./aptitudes/EmplacementCape.png"},{indexItem:0,itemType:10,background:"./aptitudes/EmplacementEpaulettes.png"},{indexItem:0,itemType:7,background:"./aptitudes/EmplacementCeinture.png"},{indexItem:0,itemType:2,background:"./aptitudes/EmplacementPremi\xE8reMain.png"}];effetsDescription=[{id:0,chasse:{color:3,lvl:11,idAction:120},libelle:"enchantement.maitrise-elementaire",logos:[9,6]},{id:1,chasse:{color:3,lvl:11,idAction:26},libelle:"enchantement.maitrise-soin",logos:[5,10]},{id:2,chasse:{color:1,lvl:11,idAction:1052},libelle:"enchantement.maitrise-melee",logos:[8,6]},{id:3,chasse:{color:1,lvl:11,idAction:1053},libelle:"enchantement.maitrise-distance",logos:[7,2]},{id:4,chasse:{color:1,lvl:11,idAction:1055},libelle:"enchantement.maitrise-berserk",logos:[5,6]},{id:5,chasse:{color:2,lvl:11,idAction:149},libelle:"enchantement.maitrise-critique",logos:[10,2]},{id:6,chasse:{color:2,lvl:11,idAction:180},libelle:"enchantement.maitrise-dos",logos:[7,4]},{id:7,chasse:{color:3,lvl:11,idAction:173},libelle:"enchantement.tacle",logos:[3,3]},{id:8,chasse:{color:2,lvl:11,idAction:175},libelle:"enchantement.esquive",logos:[3,3]},{id:9,chasse:{color:2,lvl:11,idAction:171},libelle:"enchantement.initiative",logos:[5,6]},{id:10,chasse:{color:2,lvl:11,idAction:82},libelle:"enchantement.resistance-feu",logos:[9,7]},{id:11,chasse:{color:3,lvl:11,idAction:83},libelle:"enchantement.resistance-eau",logos:[9,10]},{id:12,chasse:{color:1,lvl:11,idAction:84},libelle:"enchantement.resistance-terre",logos:[9,4]},{id:13,chasse:{color:3,lvl:11,idAction:85},libelle:"enchantement.resistance-air",logos:[9,6]},{id:14,chasse:{color:3,lvl:11,idAction:20},libelle:"enchantement.vie",logos:[8,2]}];onMouseLeave(){this.tooltipService.closeTooltip()}getUrlSublimationImage(t){let e=-1;switch(t.level){case 1:e=81228822;break;case 2:e=81228823;break;default:e=81227111;break}return this.imageService.getItemUrl(e)}applySublimationEpicRelic(){!this.sublimationToApply()||!this.sublimationToApply().isEpic&&!this.sublimationToApply().isRelic||this.chasseFormService.applySublimationEpicRelic({id:this.sublimationToApply().id,idImage:this.sublimationToApply().gfxId,title:this.sublimationToApply().title,epique:this.sublimationToApply().isEpic,relique:this.sublimationToApply().isRelic})}applySublimation(t){if(!this.sublimationToApply()){this.chasseFormService.removeSublimation(t);return}this.sublimationToApply().isEpic||this.sublimationToApply().isRelic||this.chasseFormService.applySumblimation(t,{id:this.sublimationToApply().id,title:this.sublimationToApply().title,slotColorPattern:this.sublimationToApply().slotColorPattern,isValid:!1,level:this.levelSublimationToApply()||1})}nameItem(t){return t?t.title[this.translateService.currentLang]:""}descriptionSublimation(t){return t?t.description[this.translateService.currentLang]:""}nameSublimation(t){if(!t)return"";let e=t.level===1?"I":t.level===2?"II":t.level===3?"III":"";return`${t.title[this.translateService.currentLang]} ${e} `}nameSublimationEpicRelic(t){return t?t.title[this.translateService.currentLang]:""}chooseSublimation(t,e){this.effectToApply.set(void 0),this.sublimationToApply.set(t),this.levelSublimationToApply.set(e)}chooseEffet(t){this.levelSublimationToApply.set(void 0),this.sublimationToApply.set(void 0),this.effectToApply.set(t)}clearEffet(){this.effectToApply.set(void 0)}removeEffet(t,e){this.chasseFormService.clearEffect(t,e)}changeJokerState(t,e){this.chasseFormService.changeJokerState(t,e)}applyEffet(t,e,i){this.effectToApply()&&this.chasseFormService.applyEffect(t,e,{color:this.effectToApply().chasse.color,lvl:Math.min(this.level,W(i)),idAction:this.effectToApply().chasse.idAction,joker:!1})}cursorDestructStyle(t,e){let i=e?.chasse;return!i||!this.equalChasses(t,i)?"":"url(cursor/chasses/destructShard.png) 16 16, auto"}equalChasses(t,e){return t.color===e.color&&t.lvl===e.lvl&&t.idAction===e.idAction}effectIsDouble(t){return!!this.itemTypeSelected()&&t.logos.includes(this.itemTypeSelected())}selectItemType(t,e){this.itemTypeSelected()===t&&this.indexItemTypeSelected()===e?(this.indexItemTypeSelected.set(-1),this.itemTypeSelected.set(void 0)):(this.indexItemTypeSelected.set(e),this.itemTypeSelected.set(t))}setLevelItem(t,e){this.itemLevels.set(e,t)}getLevelItem(t){return this.itemLevels.get(t)||0}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=w({type:o,selectors:[["app-enchantement"]],features:[te],decls:2,vars:3,consts:[[1,"container"],[1,"column"],[1,"card"],[1,"header"],[3,"click"],[1,"body"],["min","1","step","1","showTickMarks","","discrete","",3,"max"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"group-item-chasses",3,"selected"],[1,"epique-relique"],[1,"epique",3,"click","contextmenu","mouseenter","mouseleave"],["src","chasses/shardEpique.png","alt",""],[1,"relique",3,"click","contextmenu","mouseenter","mouseleave"],["src","chasses/shardRelique.png","alt",""],[1,"effets-description",3,"selected","double"],["matInput","",3,"ngModelChange","ngModel","placeholder"],[1,"slider-container"],[1,"subli-container",3,"selected"],[1,"group-item-chasses"],[3,"level","click","itemType","indexItem","backgroundItemType"],[1,"container-image",3,"cursor"],[1,"delete",3,"click"],[1,"sublimations",3,"click","contextmenu"],["alt","",3,"click","mouseenter","mouseleave","src"],[1,"container-image",3,"click","contextmenu"],[3,"src","alt"],[1,"action-image"],[1,"action-image",3,"dblclick"],["alt","",3,"src"],[1,"effets-description",3,"click"],[1,"logos"],[1,"subli-container"],[1,"row"],[1,"parchemins",3,"src","alt","parchemins-selected"],[1,"parchemins",3,"click","mouseenter","mouseleave","src","alt"],[1,"subli-container",3,"click"],[3,"mouseenter","mouseleave","src","alt"]],template:function(e,i){e&1&&(a(0,"div",0),O(1,He,41,14),s()),e&2&&(V("cursor",i.effectToApply()?"url(cursor/"+i.imageService.getChasseColorUrl(i.effectToApply().chasse)+") 16 16, auto":"default"),l(),y(i.chasses()&&i.enchantement()?1:-1))},dependencies:[z,$,Se,Oe,ye,Ee,Te,ue,pe,de,_e,L],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%;margin:auto}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:fit-content}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:270px;border:2px solid #415A77;box-shadow:2px 3px 2px #f0f0f033;cursor:pointer;background-color:#fff;color:#213a57;font-weight:600;font-size:13px;height:35px;border-radius:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{transform:translateY(2px);box-shadow:2px 3px 2px #f0f0f033,inset 3px 2px 5px #1b263b;color:#fff;background-color:#1b263b}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:fit-content;background:linear-gradient(145deg,#0d1b2a,#415a77);border-radius:15px;padding:15px;color:#fff;height:fit-content;display:flex;flex-direction:column;box-shadow:0 8px 8px #0009;position:relative;margin-bottom:15px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-bottom:3px solid #415A77;margin-bottom:10px;padding:5px 0}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;width:50px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-direction:column;vertical-align:middle;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   app-image-item[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin:0 5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:50px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   .action-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;position:absolute;bottom:0;right:0}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   .action-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:#0d1b2a;background-color:#fff;border:1px solid #415A77;border-radius:50%;width:15px;height:15px;text-align:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   .action-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;height:15px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;margin-left:10px;width:100px;position:relative}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;cursor:pointer}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:contents;margin-left:5px;width:50px;font-size:11px;height:40px;overflow:hidden}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations.invalid[_ngcontent-%COMP%]:after{content:"\\2716";color:red;font-weight:700;font-size:24px;position:absolute;top:47%;left:20px;transform:translate(-50%,-50%);text-shadow:1px 1px 2px black,-1px -1px 2px black;pointer-events:none}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:orange}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .double[_ngcontent-%COMP%]{background-color:orange}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;margin:10px auto 0;height:30px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:350px;display:flex;flex-wrap:wrap;grid-row-gap:5px;height:250px;overflow-y:scroll;background-color:#81aab7;border:1px solid #0D1B2A;border-radius:10px;color:#0d1b2a;padding:10px;margin-top:20px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]{cursor:pointer;color:#fff;width:45%;margin:0 auto 10px;display:flex;flex-direction:column;align-items:center;background:linear-gradient(145deg,#0d1b2a,#415a77);height:fit-content;border-radius:5px;border:2px solid #0D1B2A;text-align:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-top:3px solid #415A77;border-radius:10px;display:flex;justify-content:center;align-items:center;margin:5px 0;width:100%}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:49%;display:flex}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .parchemins[_ngcontent-%COMP%]:hover{transform:scale(1.4)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .parchemins-selected[_ngcontent-%COMP%]{background-color:#7eb3ec;border-radius:5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:orange}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;margin-top:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .epique[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .relique[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .epique[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .relique[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .epique[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .relique[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;width:100px}@media screen and (max-width:700px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:80%}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]{width:100%}}']})};var Ie=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=w({type:o,selectors:[["app-enchantement-router"]],decls:1,vars:0,template:function(e,i){e&1&&g(0,"app-enchantement")},dependencies:[G],styles:["[_nghost-%COMP%]{display:flex;margin-top:10px}[_nghost-%COMP%]   app-enchantement[_ngcontent-%COMP%]{width:100%}"]})};export{Ie as EnchantementRouterComponent};
