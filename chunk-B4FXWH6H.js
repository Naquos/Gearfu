import{A as H,e as Q,g as J,i as K,j as Y,z as Z}from"./chunk-G4ZMWWN4.js";import{a as W,b as v}from"./chunk-ZD3W3Z5C.js";import{Da as d,Ea as r,Hb as h,Ib as V,Kb as P,Lb as $,Mb as k,Oa as g,Ob as j,Oc as q,Pb as z,Pc as G,Qb as w,S as F,Tc as O,Ub as M,Vb as I,ca as s,dc as b,eb as y,gb as T,ha as E,hb as C,ia as x,jb as _,kb as u,lb as p,mb as a,nb as m,o as D,ob as l,ra as B,sb as U,ub as R,wb as o,y as L}from"./chunk-ANN6KIWT.js";import"./chunk-6MDQTQU3.js";function ie(n,t){if(n&1&&(a(0,"div",2),l(1,"img",3),m()),n&2){let e=o();h("background-color",e.colorRarityService.mapColors.get(e.item().rarity)),r(),p("src",e.imageService.getItemUrl(e.item().idImage),d)}}function oe(n,t){if(n&1&&l(0,"img",1),n&2){let e=o();p("src",e.backgroundItemType(),d)}}var A=class n{colorRarityService=s(J);itemChooseService=s(Z);itemTypeFormServices=s(Y);imageService=s(O);backgroundItemType=b.required();itemType=b();indexItem=b(0);item=v(W(this.itemType).pipe(L(t=>t!==void 0),F(t=>this.itemChooseService.getObsItem(t)),D(t=>t[this.indexItem()])),{initialValue:void 0});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-image-item"]],inputs:{backgroundItemType:[1,"backgroundItemType"],itemType:[1,"itemType"],indexItem:[1,"indexItem"]},decls:2,vars:1,consts:[[1,"itemPresent",3,"backgroundColor"],["alt","noItem",1,"noItem",3,"src"],[1,"itemPresent"],["alt","items","appFallback","",3,"src"]],template:function(e,i){e&1&&y(0,ie,2,3,"div",0)(1,oe,1,1,"img",1),e&2&&T(i.item()?0:1)},dependencies:[Q],styles:[".noItem[_ngcontent-%COMP%]{width:30px;height:30px}.itemPresent[_ngcontent-%COMP%]{width:30px;height:30px;position:relative}.itemPresent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px}"]})};function ce(n,t){if(n&1){let e=U();a(0,"img",9),R("click",function(){let c=E(e).$index;o();let f=w(0),N=o(2);return x(N.applyEffet(c,f))})("contextmenu",function(c){let f=E(e).$index;o();let N=w(0),ne=o(2);return c.preventDefault(),x(ne.changeJokerState(f,N))}),m()}if(n&2){let e=t.$implicit,i=o(3);h("cursor",i.cursorDestructStyle(e,i.effectToApply())),p("src",i.imageService.getChasseColorUrl(e),d)}}function re(n,t){if(n&1&&(j(0),a(1,"div",5),l(2,"app-image-item",7),_(3,ce,1,3,"img",8,C),m()),n&2){let e=t.$implicit,i=t.$index,c=o(2);z(i),r(2),p("itemType",c.displayTypeItem[i].itemType)("indexItem",c.displayTypeItem[i].indexItem)("backgroundItemType",c.displayTypeItem[i].background),r(),u(e.chasses)}}function ae(n,t){if(n&1&&l(0,"img",11),n&2){let e=t.$implicit,i=o(3);p("src",i.itemTypeService.getLogo(e),d)}}function me(n,t){if(n&1){let e=U();a(0,"button",10),R("click",function(){let c=E(e).$implicit,f=o(2);return x(f.chooseEffet(c))}),l(1,"img",11),a(2,"span"),P(3),M(4,"translate"),m(),a(5,"div",12),_(6,ae,1,1,"img",11,C),m()()}if(n&2){let e,i=t.$implicit,c=o(2);V("selected",c.effectToApply()&&((e=c.effectToApply())==null?null:e.id)===i.id),r(),p("src",c.imageService.getChasseColorUrl(i.chasse),d),r(2),$(I(4,4,i.libelle)),r(3),u(i.logos)}}function se(n,t){if(n&1&&(a(0,"div",1)(1,"div",2)(2,"div",3),P(3),M(4,"translate"),m(),a(5,"div",4),_(6,re,5,4,"div",5,C),m()()(),a(8,"div",1)(9,"div",2)(10,"div",3),P(11),M(12,"translate"),m(),a(13,"div",4),_(14,me,8,6,"button",6,C),m()()()),n&2){let e=o();r(3),k(" ",I(4,2,"enchantement.chasses")," "),r(3),u(e.chasses()),r(5),k(" ",I(12,4,"enchantement.effets")," "),r(3),u(e.effetsDescription)}}var S=class n{imageService=s(O);chasseFormService=s(H);chasses=v(this.chasseFormService.chasse$);itemTypeService=s(K);effectToApply=B(void 0);displayTypeItem=[{indexItem:0,itemType:8,background:"./aptitudes/EmplacementCoiffe.png"},{indexItem:0,itemType:5,background:"./aptitudes/EmplacementAmulette.png"},{indexItem:0,itemType:9,background:"./aptitudes/EmplacementPlastron.png"},{indexItem:0,itemType:3,background:"./aptitudes/EmplacementAnneauGauche.png"},{indexItem:1,itemType:3,background:"./aptitudes/EmplacementAnneauDroite.png"},{indexItem:0,itemType:4,background:"./aptitudes/EmplacementBottes.png"},{indexItem:0,itemType:6,background:"./aptitudes/EmplacementCape.png"},{indexItem:0,itemType:10,background:"./aptitudes/EmplacementEpaulettes.png"},{indexItem:0,itemType:7,background:"./aptitudes/EmplacementCeinture.png"},{indexItem:0,itemType:2,background:"./aptitudes/EmplacementPremi\xE8reMain.png"}];effetsDescription=[{id:0,chasse:{color:3,lvl:11,idAction:120},libelle:"enchantement.maitrise-elementaire",logos:[9,6]},{id:1,chasse:{color:3,lvl:11,idAction:26},libelle:"enchantement.maitrise-soin",logos:[5,10]},{id:2,chasse:{color:1,lvl:11,idAction:1052},libelle:"enchantement.maitrise-melee",logos:[8,6]},{id:3,chasse:{color:1,lvl:11,idAction:1053},libelle:"enchantement.maitrise-distance",logos:[7,2]},{id:4,chasse:{color:1,lvl:11,idAction:1055},libelle:"enchantement.maitrise-berserk",logos:[5,6]},{id:5,chasse:{color:2,lvl:11,idAction:149},libelle:"enchantement.maitrise-critique",logos:[10,2]},{id:6,chasse:{color:2,lvl:11,idAction:180},libelle:"enchantement.maitrise-dos",logos:[7,4]},{id:7,chasse:{color:3,lvl:11,idAction:173},libelle:"enchantement.tacle",logos:[3,3]},{id:8,chasse:{color:2,lvl:11,idAction:175},libelle:"enchantement.esquive",logos:[3,3]},{id:9,chasse:{color:2,lvl:11,idAction:171},libelle:"enchantement.initiative",logos:[5,6]},{id:10,chasse:{color:2,lvl:11,idAction:82},libelle:"enchantement.resistance-feu",logos:[9,7]},{id:11,chasse:{color:3,lvl:11,idAction:83},libelle:"enchantement.resistance-eau",logos:[9,10]},{id:12,chasse:{color:1,lvl:11,idAction:84},libelle:"enchantement.resistance-terre",logos:[9,4]},{id:13,chasse:{color:3,lvl:11,idAction:85},libelle:"enchantement.resistance-air",logos:[9,6]},{id:14,chasse:{color:3,lvl:11,idAction:20},libelle:"enchantement.vie",logos:[8,2]}];chooseEffet(t){this.effectToApply.set(t)}clearEffet(){this.effectToApply.set(void 0)}removeEffet(t,e){this.chasseFormService.clearEffect(t,e)}changeJokerState(t,e){this.chasseFormService.changeJokerState(t,e)}applyEffet(t,e){this.effectToApply()&&this.chasseFormService.applyEffect(t,e,{color:this.effectToApply().chasse.color,lvl:this.effectToApply().chasse.lvl,idAction:this.effectToApply().chasse.idAction,joker:!1})}cursorDestructStyle(t,e){let i=e?.chasse;return!i||!this.equalChasses(t,i)?"":"url(cursor/chasses/destructShard.png) 16 16, auto"}equalChasses(t,e){return t.color===e.color&&t.lvl===e.lvl&&t.idAction===e.idAction}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-enchantement"]],decls:2,vars:3,consts:[[1,"container"],[1,"column"],[1,"card"],[1,"header"],[1,"body"],[1,"group-item-chasses"],[1,"effets-description",3,"selected"],[3,"itemType","indexItem","backgroundItemType"],[3,"src","alt","cursor"],[3,"click","contextmenu","src","alt"],[1,"effets-description",3,"click"],[3,"src","alt"],[1,"logos"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,se,16,6),m()),e&2&&(h("cursor",i.effectToApply()?"url(cursor/"+i.imageService.getChasseColorUrl(i.effectToApply().chasse)+") 16 16, auto":"default"),r(),T(i.chasses()?1:-1))},dependencies:[A,G,q],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:97%;margin:auto}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:48%}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;background:linear-gradient(145deg,#0d1b2a,#415a77);border-radius:15px;padding:5px;color:#fff;min-width:300px;height:fit-content;display:flex;flex-direction:column;box-shadow:0 8px 8px #0009;position:relative;margin-bottom:15px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-bottom:3px solid #415A77;margin-bottom:10px;padding:5px 0}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   app-image-item[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px;margin:5px;border:2px solid #415A77;box-shadow:2px 3px 2px #f0f0f033;cursor:pointer;background-color:#fff;color:#213a57;font-weight:600;font-size:17px;height:35px;border-radius:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{transform:translateY(2px);box-shadow:2px 3px 2px #f0f0f033,inset 3px 2px 5px #1b263b;background-color:#213a57;color:#fff}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}"]})};var te=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-enchantement-router"]],decls:1,vars:0,template:function(e,i){e&1&&l(0,"app-enchantement")},dependencies:[S],styles:["[_nghost-%COMP%]{display:flex;margin-top:10px}[_nghost-%COMP%]   app-enchantement[_ngcontent-%COMP%]{width:100%}"]})};export{te as EnchantementRouterComponent};
