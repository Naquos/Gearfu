import{Bd as A,Dd as n,Ea as b,Nd as u,S as l,X as c,g as o,kc as y,na as d,qa as h,wa as m,wb as v,xa as p}from"./chunk-DYNV3AZ5.js";var g=class s{constructor(t,e){this.el=t;this.renderer=e}isLoading=!0;loadListener;errorListener;platformId=c(h);ngOnInit(){if(!y(this.platformId))return;this.el.nativeElement.getAttribute("loading")||this.renderer.setAttribute(this.el.nativeElement,"loading","lazy"),this.injectStyles(),this.loadListener=this.renderer.listen(this.el.nativeElement,"load",()=>{this.isLoading=!1}),this.errorListener=this.renderer.listen(this.el.nativeElement,"error",()=>{this.isLoading=!1}),this.el.nativeElement.complete&&this.el.nativeElement.naturalHeight!==0&&(this.isLoading=!1)}injectStyles(){let t="lazy-image-styles";if(document.getElementById(t))return;let e=this.renderer.createElement("style");this.renderer.setAttribute(e,"id",t),this.renderer.setAttribute(e,"type","text/css");let a=this.renderer.createText(`
      img.lazy-loading {
        background-color: rgba(255, 255, 255, 0.1) !important;
        animation: lazy-pulse 1.5s ease-in-out infinite;
      }

      img.lazy-loaded {
        background-color: transparent !important;
        animation: none;
      }

      @keyframes lazy-pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
    `);this.renderer.appendChild(e,a),this.renderer.appendChild(document.head,e)}ngOnDestroy(){this.loadListener&&this.loadListener(),this.errorListener&&this.errorListener()}static \u0275fac=function(e){return new(e||s)(p(d),p(m))};static \u0275dir=b({type:s,selectors:[["img"]],hostVars:4,hostBindings:function(e,r){e&2&&v("lazy-loading",r.isLoading)("lazy-loaded",!r.isLoading)}})};var T=(i=>(i[i.Feca=1]="Feca",i[i.Osamodas=2]="Osamodas",i[i.Enutrof=3]="Enutrof",i[i.Sram=4]="Sram",i[i.Xelor=5]="Xelor",i[i.Ecaflip=6]="Ecaflip",i[i.Eniripsa=7]="Eniripsa",i[i.Iop=8]="Iop",i[i.Cra=9]="Cra",i[i.Sadida=10]="Sadida",i[i.Sacrieur=11]="Sacrieur",i[i.Pandawa=12]="Pandawa",i[i.Roublard=13]="Roublard",i[i.Zobal=14]="Zobal",i[i.Ouginak=15]="Ouginak",i[i.Steamer=16]="Steamer",i[i.Eliotrope=18]="Eliotrope",i[i.Huppermage=19]="Huppermage",i))(T||{});var f=class s extends u{static DEFAULT_VALUE=7;classe=new o(s.DEFAULT_VALUE);classe$=this.classe.asObservable();keyEnum="KEY_CLASSE";form=new n(s.DEFAULT_VALUE,{nonNullable:!0});constructor(){super(),this.init()}handleChanges(t){this.classe.next(t)}setValue(t){this.form.setValue(t??s.DEFAULT_VALUE)}setDefaultValue(){this.form.setValue(s.DEFAULT_VALUE)}getValue(){return this.classe.getValue()}static \u0275fac=function(e){return new(e||s)};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};var N=class s extends u{classeFormService=c(f);static DEFAULT_SORT_NEUTRE=[0,0,0,0,0,0,0,0,0,0,0,0];static DEFAULT_SORT_PASSIF=[0,0,0,0,0,0];sortNeutres=new o(s.DEFAULT_SORT_NEUTRE);sortNeutres$=this.sortNeutres.asObservable();sortPassifs=new o(s.DEFAULT_SORT_PASSIF);sortPassifs$=this.sortPassifs.asObservable();codeBuild=new o("");codeBuild$=this.codeBuild.asObservable();firstLoad=!0;keyEnum="KEY_SORT";form=new A({sortNeutres:new n(s.DEFAULT_SORT_NEUTRE,{nonNullable:!0}),sortPassifs:new n(s.DEFAULT_SORT_PASSIF,{nonNullable:!0})});constructor(){super(),this.init(),this.classeFormService.classe$.subscribe(()=>{this.firstLoad||this.setDefaultValue(),this.firstLoad=!1})}handleChanges(t){this.sortNeutres.next(t.sortNeutres??s.DEFAULT_SORT_NEUTRE),this.sortPassifs.next(t.sortPassifs??s.DEFAULT_SORT_PASSIF),this.codeBuild.next(this.generateCodeBuild(t))}setValue(t){this.form.setValue({sortNeutres:t?.sortNeutres??s.DEFAULT_SORT_NEUTRE,sortPassifs:t?.sortPassifs??s.DEFAULT_SORT_PASSIF})}generateCodeBuild(t){let e=t.sortNeutres?.join("-")||"",r=t.sortPassifs?.join("-")||"";return`${e}-${r}`}sortAlreadySet(t){let e=this.sortNeutres.getValue(),r=this.sortPassifs.getValue();return e.includes(t)||r.includes(t)}setDefaultValue(){this.form.setValue({sortNeutres:[...s.DEFAULT_SORT_NEUTRE],sortPassifs:[...s.DEFAULT_SORT_PASSIF]})}addSortNeutreAt(t,e){this.sortAlreadySet(e)&&this.removeSortNeutre(e);let r=this.sortNeutres.getValue();r[t]=e,this.form.controls.sortNeutres.setValue(r)}addSortNeutre(t){if(this.sortAlreadySet(t))return;let e=this.sortNeutres.getValue(),r=e.indexOf(0);r!==-1&&(e[r]=t,this.form.controls.sortNeutres.setValue(e))}addSortPassifAt(t,e){this.sortAlreadySet(e)&&this.removeSortPassif(e);let r=this.sortPassifs.getValue();r[t]=e,this.form.controls.sortPassifs.setValue(r)}addSortPassif(t){if(this.sortAlreadySet(t))return;let e=this.sortPassifs.getValue(),r=e.indexOf(0);r!==-1&&(e[r]=t,this.form.controls.sortPassifs.setValue(e))}removeSortPassif(t){let e=this.sortPassifs.getValue(),r=e.indexOf(t);r!==-1&&(e[r]=0,this.form.controls.sortPassifs.setValue(e))}removeSortNeutre(t){let e=this.sortNeutres.getValue(),r=e.indexOf(t);r!==-1&&(e[r]=0,this.form.controls.sortNeutres.setValue(e))}removeSortNeutreAt(t){let e=this.sortNeutres.getValue();e[t]=0,this.form.controls.sortNeutres.setValue(e)}removeSortPassifAt(t){let e=this.sortPassifs.getValue();e[t]=0,this.form.controls.sortPassifs.setValue(e)}swapSortNeutre(t,e){let r=[...this.sortNeutres.getValue()],a=r[t];r[t]=r[e],r[e]=a,this.form.controls.sortNeutres.setValue(r)}swapSortPassif(t,e){let r=[...this.sortPassifs.getValue()],a=r[t];r[t]=r[e],r[e]=a,this.form.controls.sortPassifs.setValue(r)}getSortPassifs(){return this.sortPassifs.getValue()}static \u0275fac=function(e){return new(e||s)};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};export{g as a,T as b,f as c,N as d};
