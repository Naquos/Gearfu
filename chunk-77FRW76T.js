import{Bd as v,Dd as l,Ea as T,Nd as f,S as c,X as n,g as o,kc as _,na as h,qa as b,wa as R,wb as N,xa as p}from"./chunk-DYNV3AZ5.js";var L=class r{constructor(t,e){this.el=t;this.renderer=e}isLoading=!0;loadListener;errorListener;platformId=n(b);ngOnInit(){if(!_(this.platformId))return;this.el.nativeElement.getAttribute("loading")||this.renderer.setAttribute(this.el.nativeElement,"loading","lazy"),this.injectStyles(),this.loadListener=this.renderer.listen(this.el.nativeElement,"load",()=>{this.isLoading=!1}),this.errorListener=this.renderer.listen(this.el.nativeElement,"error",()=>{this.isLoading=!1}),this.el.nativeElement.complete&&this.el.nativeElement.naturalHeight!==0&&(this.isLoading=!1)}injectStyles(){let t="lazy-image-styles";if(document.getElementById(t))return;let e=this.renderer.createElement("style");this.renderer.setAttribute(e,"id",t),this.renderer.setAttribute(e,"type","text/css");let a=this.renderer.createText(`
      img.lazy-loading {
        background-color: rgba(255, 255, 255, 0.1) !important;
        animation: lazy-pulse 1.5s ease-in-out infinite;
      }

      img.lazy-loaded {
        background-color: transparent !important;
        animation: none;
      }

      @keyframes lazy-pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
    `);this.renderer.appendChild(e,a),this.renderer.appendChild(document.head,e)}ngOnDestroy(){this.loadListener&&this.loadListener(),this.errorListener&&this.errorListener()}static \u0275fac=function(e){return new(e||r)(p(h),p(R))};static \u0275dir=T({type:r,selectors:[["img"]],hostVars:4,hostBindings:function(e,i){e&2&&N("lazy-loading",i.isLoading)("lazy-loaded",!i.isLoading)}})};var U=(s=>(s[s.Feca=1]="Feca",s[s.Osamodas=2]="Osamodas",s[s.Enutrof=3]="Enutrof",s[s.Sram=4]="Sram",s[s.Xelor=5]="Xelor",s[s.Ecaflip=6]="Ecaflip",s[s.Eniripsa=7]="Eniripsa",s[s.Iop=8]="Iop",s[s.Cra=9]="Cra",s[s.Sadida=10]="Sadida",s[s.Sacrieur=11]="Sacrieur",s[s.Pandawa=12]="Pandawa",s[s.Roublard=13]="Roublard",s[s.Zobal=14]="Zobal",s[s.Ouginak=15]="Ouginak",s[s.Steamer=16]="Steamer",s[s.Eliotrope=18]="Eliotrope",s[s.Huppermage=19]="Huppermage",s))(U||{});var A=class r extends f{static DEFAULT_VALUE=7;classe=new o(r.DEFAULT_VALUE);classe$=this.classe.asObservable();keyEnum="KEY_CLASSE";form=new l(r.DEFAULT_VALUE,{nonNullable:!0});constructor(){super(),this.init()}handleChanges(t){this.classe.next(t)}setValue(t){this.form.setValue(t??r.DEFAULT_VALUE)}setDefaultValue(){this.form.setValue(r.DEFAULT_VALUE)}getValue(){return this.classe.getValue()}static \u0275fac=function(e){return new(e||r)};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})};var u=class r extends f{classeFormService=n(A);static DEFAULT_SORT_NEUTRE=[0,0,0,0,0,0,0,0,0,0,0,0];static DEFAULT_SORT_PASSIF=[0,0,0,0,0,0];sortNeutres=new o(r.DEFAULT_SORT_NEUTRE);sortNeutres$=this.sortNeutres.asObservable();sortPassifs=new o(r.DEFAULT_SORT_PASSIF);sortPassifs$=this.sortPassifs.asObservable();codeBuild=new o("");codeBuild$=this.codeBuild.asObservable();firstLoad=!0;keyEnum="KEY_SORT";form=new v({sortNeutres:new l(r.DEFAULT_SORT_NEUTRE,{nonNullable:!0}),sortPassifs:new l(r.DEFAULT_SORT_PASSIF,{nonNullable:!0})});constructor(){super(),this.init(),this.classeFormService.classe$.subscribe(()=>{this.firstLoad||this.setDefaultValue(),this.firstLoad=!1})}handleChanges(t){this.sortNeutres.next(t.sortNeutres??r.DEFAULT_SORT_NEUTRE),this.sortPassifs.next(t.sortPassifs??r.DEFAULT_SORT_PASSIF),this.codeBuild.next(this.generateCodeBuild(t))}setValue(t){this.form.setValue({sortNeutres:t?.sortNeutres??r.DEFAULT_SORT_NEUTRE,sortPassifs:t?.sortPassifs??r.DEFAULT_SORT_PASSIF})}generateCodeBuild(t){let e=t.sortNeutres?.join("-")||"",i=t.sortPassifs?.join("-")||"";return`${e}-${i}`}sortAlreadySet(t){let e=this.sortNeutres.getValue(),i=this.sortPassifs.getValue();return e.includes(t)||i.includes(t)}setDefaultValue(){this.form.setValue({sortNeutres:[...r.DEFAULT_SORT_NEUTRE],sortPassifs:[...r.DEFAULT_SORT_PASSIF]})}addSortNeutreAt(t,e){this.sortAlreadySet(e)&&this.removeSortNeutre(e);let i=this.sortNeutres.getValue();i[t]=e,this.form.controls.sortNeutres.setValue(i)}addSortNeutre(t){if(this.sortAlreadySet(t))return;let e=this.sortNeutres.getValue(),i=e.indexOf(0);i!==-1&&(e[i]=t,this.form.controls.sortNeutres.setValue(e))}addSortPassifAt(t,e){this.sortAlreadySet(e)&&this.removeSortPassif(e);let i=this.sortPassifs.getValue();i[t]=e,this.form.controls.sortPassifs.setValue(i)}addSortPassif(t){if(this.sortAlreadySet(t))return;let e=this.sortPassifs.getValue(),i=e.indexOf(0);i!==-1&&(e[i]=t,this.form.controls.sortPassifs.setValue(e))}removeSortPassif(t){let e=this.sortPassifs.getValue(),i=e.indexOf(t);i!==-1&&(e[i]=0,this.form.controls.sortPassifs.setValue(e))}removeSortNeutre(t){let e=this.sortNeutres.getValue(),i=e.indexOf(t);i!==-1&&(e[i]=0,this.form.controls.sortNeutres.setValue(e))}removeSortNeutreAt(t){let e=this.sortNeutres.getValue();e[t]=0,this.form.controls.sortNeutres.setValue(e)}removeSortPassifAt(t){let e=this.sortPassifs.getValue();e[t]=0,this.form.controls.sortPassifs.setValue(e)}swapSortNeutre(t,e){let i=[...this.sortNeutres.getValue()],a=i[t];i[t]=i[e],i[e]=a,this.form.controls.sortNeutres.setValue(i)}swapSortPassif(t,e){let i=[...this.sortPassifs.getValue()],a=i[t];i[t]=i[e],i[e]=a,this.form.controls.sortPassifs.setValue(i)}getSortPassifs(){return this.sortPassifs.getValue()}static \u0275fac=function(e){return new(e||r)};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})};export{L as a,U as b,A as c,u as d};
