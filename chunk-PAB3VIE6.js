import{h as Ee,i as Ie}from"./chunk-SGJNNBHC.js";import{A as ve,a as $,c as pe,e as Ce,f as fe,v as W,x as be,y as xe,z as Pe}from"./chunk-4QQYM7MS.js";import{a as ye,b as Se,c as Te}from"./chunk-I37ZHUV5.js";import"./chunk-57R5NHJT.js";import{a as Oe,b as U}from"./chunk-WDSN2IFS.js";import{Ad as he,Bb as Q,C as Z,D as K,Dd as Me,E as H,Ea as y,Eb as ae,Fb as R,Ga as S,Ha as v,Ja as M,Ka as P,La as _,M as C,Ma as a,Na as s,Oa as h,Q as m,R as p,Sa as b,Ua as u,Wa as r,Z as x,Zc as le,_c as se,ad as N,bd as q,cd as B,fb as V,fd as me,ga as g,gb as T,gd as k,i as F,ia as l,ib as f,id as de,jb as O,kb as L,mb as ne,md as _e,nb as ie,oa as ee,ob as oe,pa as E,pb as re,q as Y,qb as ce,rb as I,rd as ue,ta as te,vb as w,wb as A,xd as ge}from"./chunk-QAOYJJAK.js";import"./chunk-EQDQRRRY.js";function Ae(o,t){if(o&1&&(a(0,"div",2),h(1,"img",3),s()),o&2){let e=r();V("background-color",e.colorRarityService.mapColors.get(e.item().rarity)),l(),_("src",e.imageService.getItemUrl(e.item().idImage),g)}}function ke(o,t){if(o&1&&h(0,"img",1),o&2){let e=r();_("src",e.backgroundItemType(),g)}}var z=class o{colorRarityService=C(pe);itemChooseService=C(xe);itemTypeFormServices=C(fe);imageService=C(k);backgroundItemType=R.required();itemType=R();indexItem=R(0);level=ae();item=U(Oe(this.itemType).pipe(Y(t=>t!==void 0),Z(t=>this.itemChooseService.getObsItem(t)),F(t=>t[this.indexItem()]),H(t=>this.level.emit(t?.level??999))),{initialValue:void 0});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-image-item"]],inputs:{backgroundItemType:[1,"backgroundItemType"],itemType:[1,"itemType"],indexItem:[1,"indexItem"]},outputs:{level:"level"},decls:2,vars:1,consts:[[1,"itemPresent",3,"backgroundColor"],["alt","noItem",1,"noItem",3,"src"],[1,"itemPresent"],["alt","items","appFallback","",3,"src"]],template:function(e,i){e&1&&y(0,Ae,2,3,"div",0)(1,ke,1,1,"img",1),e&2&&S(i.item()?0:1)},dependencies:[$],styles:["[_nghost-%COMP%]{cursor:pointer}[_nghost-%COMP%]:hover{transform:scale(1.2)}[_nghost-%COMP%]   .noItem[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .itemPresent[_ngcontent-%COMP%]{width:30px;height:30px;position:relative}[_nghost-%COMP%]   .itemPresent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px}"]})};var Ve=(o,t)=>t.idMob;function Ue(o,t){if(o&1&&h(0,"img",3),o&2){let e=t.$implicit,i=r();_("src",i.imageService.getChasseColorUrlById(e),g)}}function Fe(o,t){if(o&1){let e=b();a(0,"img",8),w(1,"translate"),u("click",function(){m(e);let n=r();return p(n.navigateToCraftku())}),s()}if(o&2){let e=r();_("src",e.imageService.getItemUrl(71919810),g)("matTooltip",A(1,2,"item.craftable"))}}function Le(o,t){if(o&1){let e=b();a(0,"img",9),w(1,"translate"),u("click",function(){let n=m(e).$implicit,c=r();return p(c.openEncyclopedieForMonster(n.idMob))}),s()}if(o&2){let e=t.$implicit,i=r();T("breche",e.idMob===-1),_("src",i.getUrlMonster(e),g)("alt","")("matTooltip",`${A(1,5,"item.boss-drop")} (${i.nameMonster(e)})`)}}var j=class o{translateService=C(N);imageService=C(k);levelSignal=x(1);sublimationsDescriptionsSignal=x(void 0);set level(t){this.levelSignal.set(t)}set sublimationsDescriptions(t){this.sublimationsDescriptionsSignal.set(t)}openEncyclopedieForMonster(t){t!==-1&&window.open("https://www.wakfu.com/fr/mmorpg/encyclopedie/monstres/"+t)}getUrlMonster(t){if(t.idMob!==-1&&t.idMob!==4189)return this.imageService.getMonsterUrl(t.gfxId);if(t.idMob===4189)return"breche/mimic.png";switch(t.name.fr){case"Br\xE8che Tainela":return"breche/tainela.png";case"Br\xE8che Sufokia":return"breche/sufokia.png";case"Br\xE8che Amakna":return"breche/amakna.png";case"Br\xE8che Bonta":return"breche/bonta.png";case"Br\xE8che Moon":return"breche/moon.png";case"Br\xE8che Osamosa":return"breche/osamosa.png";case"Br\xE8che Shukrute":return"breche/shukrute.png";case"Br\xE8che Shukrute Ultime":return"breche/shukrute-ultime.png";case"Br\xE8che Zinit Ultime":return"breche/zinit-ultime.png";case"Br\xE8che Frigost Ultime":return"breche/frigost-ultime.png"}return""}navigateToCraftku(){window.open("https://craftkfu.waklab.fr/?"+this.sublimationsDescriptionsSignal()?.id,"_blank")}nameMonster(t){return t.name[this.translateService.currentLang]??""}getUrlSublimationImage(){if(!this.levelSignal()||!this.sublimationsDescriptionsSignal())return"";if(this.sublimationsDescriptionsSignal()?.isEpic||this.sublimationsDescriptionsSignal()?.isRelic)return this.imageService.getItemUrl(this.sublimationsDescriptionsSignal().gfxId);let t=81228822;switch(this.levelSignal()){case 1:t=81228822;break;case 2:t=81228823;break;default:t=81227111;break}return this.imageService.getItemUrl(t)}getSublimationTitle(){return this.sublimationsDescriptionsSignal()?this.sublimationsDescriptionsSignal().title[this.translateService.currentLang]:""}getSublimationDescription(){if(!this.sublimationsDescriptionsSignal())return"";let e=this.sublimationsDescriptionsSignal().description[this.translateService.currentLang];return this.formatDescription(e)}formatDescription(t){if(!this.sublimationsDescriptionsSignal())return"";let e=this.sublimationsDescriptionsSignal().baseEffect,i=t;return e.forEach((n,c)=>{let d=n.baseValue+n.pas*(this.levelSignal()-1),D=new RegExp(`\\$\\{${c}\\}`,"g");i=i.replace(D,d.toString())}),i}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-description-sublimation"]],decls:14,vars:4,consts:[[1,"header"],["alt","",3,"src"],[1,"chasses"],[3,"src","alt"],[1,"content"],[1,"craftAndDrop"],["alt","craftable",1,"craftable",3,"src","matTooltip"],["appFallback","",3,"breche","src","alt","matTooltip"],["alt","craftable",1,"craftable",3,"click","src","matTooltip"],["appFallback","",3,"click","src","alt","matTooltip"]],template:function(e,i){if(e&1&&(a(0,"div",0),h(1,"img",1),a(2,"span"),f(3),s(),a(4,"div",2),M(5,Ue,1,1,"img",3,v),s()(),a(7,"div",4)(8,"div"),f(9),s(),a(10,"div",5),y(11,Fe,2,4,"img",6),M(12,Le,2,7,"img",7,Ve),s()()),e&2){let n;l(),_("src",i.getUrlSublimationImage(),g),l(2),O(i.getSublimationTitle()),l(2),P((n=i.sublimationsDescriptionsSignal())==null?null:n.slotColorPattern),l(4),L(" ",i.getSublimationDescription()," "),l(2),S(i.sublimationsDescriptionsSignal().isCraftable?11:-1),l(),P(i.sublimationsDescriptionsSignal().bossDropable)}},dependencies:[se,le,B,$,q],styles:["[_nghost-%COMP%]{background:linear-gradient(145deg,#0d1b2a,#415a77);border-radius:15px;padding:5px;color:#fff;height:100%;width:100%;display:flex;flex-direction:column;box-shadow:0 8px 8px #0009;position:relative;max-width:500px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{margin:auto auto 10px;display:flex;align-items:center;gap:10px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:10px;border-top:3px solid #415A77;width:100%;height:100%;display:flex;justify-content:space-around;flex-direction:column}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;justify-items:center;flex-wrap:wrap;gap:10px;margin-top:10px;width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;cursor:pointer}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.2)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   .breche[_ngcontent-%COMP%]{width:200px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .craftAndDrop[_ngcontent-%COMP%]   .craftable[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 5px gold)}"]})};function Re(o,t){if(o&1){let e=b();a(0,"div",27),u("dblclick",function(){m(e);let n=r().$index;r();let c=I(0),d=r(2);return p(d.chasseFormService.clearEffect(c,n))}),a(1,"span"),f(2),s(),h(3,"img",25),s()}if(o&2){let e=r().$implicit,i=r(3);l(2),O(e.lvl),l(),_("src",i.imageService.getActionIdUrl(e.idAction),g)}}function Ne(o,t){if(o&1){let e=b();a(0,"div",24),u("click",function(){let n=m(e).$index;r();let c=I(0),d=r(2);return p(d.applyEffet(n,c,d.getLevelItem(c)))})("contextmenu",function(n){let c=m(e).$index;r();let d=I(0),D=r(2);return n.preventDefault(),p(D.changeJokerState(c,d))}),h(1,"img",25),y(2,Re,4,2,"div",26),s()}if(o&2){let e=t.$implicit,i=r(3);V("cursor",i.cursorDestructStyle(e,i.effectToApply())),l(),_("src",i.imageService.getChasseColorUrl(e),g),l(),S(e.idAction?2:-1)}}function qe(o,t){if(o&1){let e=b();re(0),a(1,"div",18)(2,"app-image-item",19),u("level",function(n){m(e);let c=I(0),d=r(2);return p(d.setLevelItem(n,c))})("click",function(){let n=m(e).$index,c=r(2);return p(c.selectItemType(c.displayTypeItem[n].itemType,n))}),s(),M(3,Ne,3,4,"div",20,v),a(5,"button",21),u("click",function(){m(e);let n=I(0),c=r(2);return p(c.chasseFormService.clearChasseCombinaison(n))}),f(6,"X"),s(),a(7,"div",22),u("click",function(){m(e);let n=I(0),c=r(2);return p(c.applySublimation(n))})("contextmenu",function(n){m(e);let c=I(0),d=r(2);return n.preventDefault(),p(d.chasseFormService.removeSublimation(c))}),a(8,"img",23),u("mouseenter",function(n){let c=m(e).$implicit,d=r(2);return p(d.openTooltip(n,c.sublimation,(c.sublimation==null?null:c.sublimation.level)||1))})("mouseleave",function(){m(e);let n=r(2);return p(n.onMouseLeave())}),s(),a(9,"span"),f(10),s()()()}if(o&2){let e=t.$implicit,i=t.$index,n=r(2);ce(i),l(),T("selected",n.indexItemTypeSelected()===i),l(),_("itemType",n.displayTypeItem[i].itemType)("indexItem",n.displayTypeItem[i].indexItem)("backgroundItemType",n.displayTypeItem[i].background),l(),P(e.chasses),l(4),T("invalid",e.sublimation&&!e.sublimation.isValid),l(),_("src",n.imageService.getItemTypeUrl(n.ItemTypeEnum.SUBLIMATIONS),g),l(2),O(n.nameSublimation(e.sublimation))}}function Be(o,t){if(o&1){let e=b();a(0,"img",23),u("mouseenter",function(n){let c;m(e);let d=r(2);return p(d.openTooltip(n,(c=d.enchantement())==null?null:c.epique,1))})("mouseleave",function(){m(e);let n=r(2);return p(n.onMouseLeave())}),s(),a(1,"span"),f(2),s()}if(o&2){let e=r(2);_("src",e.imageService.getItemUrl(e.enchantement().epique.idImage),g),l(2),O(e.nameSublimationEpicRelic(e.enchantement().epique))}}function $e(o,t){o&1&&h(0,"img",11)}function ze(o,t){if(o&1){let e=b();a(0,"img",23),u("mouseenter",function(n){let c;m(e);let d=r(2);return p(d.openTooltip(n,(c=d.enchantement())==null?null:c.relique,1))})("mouseleave",function(){m(e);let n=r(2);return p(n.onMouseLeave())}),s(),a(1,"span"),f(2),s()}if(o&2){let e=r(2);_("src",e.imageService.getItemUrl(e.enchantement().relique.idImage),g),l(2),O(e.nameSublimationEpicRelic(e.enchantement().relique))}}function je(o,t){o&1&&h(0,"img",13)}function Ge(o,t){if(o&1&&h(0,"img",25),o&2){let e=t.$implicit,i=r(3);_("src",i.itemTypeService.getLogo(e),g)}}function Qe(o,t){if(o&1){let e=b();a(0,"button",28),u("click",function(){let n=m(e).$implicit,c=r(2);return p(c.chooseEffet(n))}),h(1,"img",25),a(2,"span"),f(3),w(4,"translate"),s(),a(5,"div",29),M(6,Ge,1,1,"img",25,v),s()()}if(o&2){let e,i=t.$implicit,n=r(2);T("selected",n.effectToApply()&&((e=n.effectToApply())==null?null:e.id)===i.id)("double",n.effectIsDouble(i)),l(),_("src",n.imageService.getChasseColorUrl(i.chasse),g),l(2),O(A(4,6,i.libelle)),l(3),P(i.logos)}}function We(o,t){if(o&1&&h(0,"img",25),o&2){let e=t.$implicit,i=r(3);_("src",i.imageService.getChasseColorUrlById(e),g)}}function Xe(o,t){if(o&1){let e=b();a(0,"img",33),u("click",function(){let n=m(e).$implicit,c=r().$implicit,d=r(2);return p(d.chooseSublimation(c,n.level))})("mouseenter",function(n){let c=m(e).$implicit,d=r().$implicit,D=r(2);return p(D.openTooltip(n,d,c.level))})("mouseleave",function(){m(e);let n=r(3);return p(n.onMouseLeave())}),s()}if(o&2){let e=t.$implicit,i=r().$implicit,n=r(2);T("parchemins-selected",n.sublimationToApply()&&n.sublimationToApply().id===i.id&&n.levelSublimationToApply()===e.level),_("src",n.getUrlSublimationImage(e),g)}}function Je(o,t){if(o&1&&(a(0,"div",30)(1,"span"),f(2),s(),a(3,"div",31)(4,"div"),M(5,We,1,1,"img",25,v),s(),a(7,"div"),M(8,Xe,1,3,"img",32,v),s()()()),o&2){let e=t.$implicit,i=r(2);T("selected",i.sublimationToApply()&&i.sublimationToApply().id===e.id),l(2),O(i.nameItem(e)),l(3),P(e.slotColorPattern),l(3),P(e.linkSublimation)}}function Ye(o,t){if(o&1){let e=b();a(0,"div",34),u("click",function(){let n=m(e).$implicit,c=r(2);return p(c.chooseSublimation(n,1))})("click",function(){m(e);let n=r(2);return p(n.applySublimationEpicRelic())}),a(1,"span"),f(2),s(),a(3,"div")(4,"img",35),u("mouseenter",function(n){let c=m(e).$implicit,d=r(2);return p(d.openTooltip(n,c,1))})("mouseleave",function(){m(e);let n=r(2);return p(n.onMouseLeave())}),s()()()}if(o&2){let e=t.$implicit,i=r(2);T("selected",i.sublimationToApply()&&i.sublimationToApply().id===e.id),l(2),O(i.nameItem(e)),l(2),_("src",i.imageService.getItemUrl(e.gfxId),g)}}function Ze(o,t){if(o&1){let e=b();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"span"),f(4),w(5,"translate"),s(),a(6,"button",4),u("click",function(){m(e);let n=r();return p(n.chasseFormService.setDefaultValue())}),f(7,"X"),s()(),a(8,"div",5)(9,"mat-slider",6)(10,"input",7),oe("ngModelChange",function(n){m(e);let c=r();return ie(c.level,n)||(c.level=n),p(n)}),s()(),M(11,qe,11,10,"div",8,v),a(13,"div",9)(14,"div",10),u("click",function(){m(e);let n=r();return p(n.chasseFormService.removeEpic())})("contextmenu",function(n){m(e);let c=r();return n.preventDefault(),p(c.chasseFormService.removeEpic())}),y(15,Be,3,2)(16,$e,1,0,"img",11),s(),a(17,"div",12),u("click",function(){m(e);let n=r();return p(n.chasseFormService.removeRelic())})("contextmenu",function(n){m(e);let c=r();return n.preventDefault(),p(c.chasseFormService.removeRelic())}),y(18,ze,3,2)(19,je,1,0,"img",13),s()()()()(),a(20,"div",1)(21,"div",2)(22,"div",3),f(23),w(24,"translate"),s(),a(25,"div",5),M(26,Qe,8,8,"button",14,v),s()()(),a(28,"div",1)(29,"div",2)(30,"div",3),f(31," Sublimations "),s(),a(32,"div",5)(33,"input",15),w(34,"translate"),u("ngModelChange",function(n){m(e);let c=r();return p(c.searchSubli.set(n))}),s(),a(35,"div",16),M(36,Je,10,3,"div",17,v),s(),a(38,"div",16),M(39,Ye,5,4,"div",17,v),s()()()()}if(o&2){let e,i,n=r();l(4),O(A(5,8,"enchantement.chasses")),l(5),_("max",n.maxLevel),l(),ne("ngModel",n.level),l(),P(n.chasses()),l(4),S((e=n.enchantement())!=null&&e.epique?15:16),l(3),S((i=n.enchantement())!=null&&i.relique?18:19),l(5),L(" ",A(24,10,"enchantement.effets")," "),l(3),P(n.effetsDescription),l(7),_("ngModel",n.searchSubli())("placeholder",A(34,12,"enchantement.recherche-sublimation")),l(3),P(n.sublimationsList()),l(3),P(n.sublimationsEpiqueReliqueList())}}var G=class o extends he{sublimationService=C(Pe);translateService=C(N);tooltipService=C(be);viewContainerRef=C(ee);imageService=C(k);chasseFormService=C(ve);chasses=U(this.chasseFormService.enchantement$.pipe(F(t=>t.chasseCombinaison)));enchantement=U(this.chasseFormService.enchantement$);itemTypeService=C(Ce);sublimations=x(this.sublimationService.getSublimations());sublimationsEpiqueRelique=x(this.sublimationService.getSublimationsEpiqueRelique());searchSubli=x("");ItemTypeEnum=me;effectToApply=x(void 0);itemTypeSelected=x(void 0);sublimationToApply=x(void 0);levelSublimationToApply=x(void 0);indexItemTypeSelected=x(-1);levelFormService=C(Me);level=11;maxLevel=11;itemLevels=new Map;constructor(){super(),this.levelFormService.level$.pipe(K(this.destroy$)).subscribe(t=>{this.maxLevel=W(t),this.level=Math.min(this.level,this.maxLevel)})}openTooltip(t,e,i){if(!e)return;let n=e;("isValid"in n||"epique"in n)&&(n=this.sublimationService.getSublimationById(e.id)),this.tooltipService.forceClose(),e&&(this.tooltipService.cancelClose(),this.tooltipService.openTooltip(this.viewContainerRef,j,t,{sublimationsDescriptions:n,level:i},[{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-10}],!0,!0))}sublimationsList=Q(()=>{this.chasses();let t=this.searchSubli().toLowerCase();return this.sublimations()?.filter(e=>this.nameItem(e).toLowerCase().includes(t)||this.descriptionSublimation(e).toLowerCase().includes(t)).filter(e=>this.indexItemTypeSelected()===-1||this.chasseFormService.canApplySublimationWithItem(this.chasses()[this.indexItemTypeSelected()],e))});sublimationsEpiqueReliqueList=Q(()=>{let t=this.searchSubli().toLowerCase();return this.sublimationsEpiqueRelique()?.filter(e=>this.nameItem(e).toLowerCase().includes(t)||this.descriptionSublimation(e).toLowerCase().includes(t))});displayTypeItem=[{indexItem:0,itemType:8,background:"./aptitudes/EmplacementCoiffe.png"},{indexItem:0,itemType:5,background:"./aptitudes/EmplacementAmulette.png"},{indexItem:0,itemType:9,background:"./aptitudes/EmplacementPlastron.png"},{indexItem:0,itemType:3,background:"./aptitudes/EmplacementAnneauGauche.png"},{indexItem:1,itemType:3,background:"./aptitudes/EmplacementAnneauDroite.png"},{indexItem:0,itemType:4,background:"./aptitudes/EmplacementBottes.png"},{indexItem:0,itemType:6,background:"./aptitudes/EmplacementCape.png"},{indexItem:0,itemType:10,background:"./aptitudes/EmplacementEpaulettes.png"},{indexItem:0,itemType:7,background:"./aptitudes/EmplacementCeinture.png"},{indexItem:0,itemType:2,background:"./aptitudes/EmplacementPremi\xE8reMain.png"}];effetsDescription=[{id:0,chasse:{color:3,lvl:11,idAction:120},libelle:"enchantement.maitrise-elementaire",logos:[9,6]},{id:1,chasse:{color:3,lvl:11,idAction:26},libelle:"enchantement.maitrise-soin",logos:[5,10]},{id:2,chasse:{color:1,lvl:11,idAction:1052},libelle:"enchantement.maitrise-melee",logos:[8,6]},{id:3,chasse:{color:1,lvl:11,idAction:1053},libelle:"enchantement.maitrise-distance",logos:[7,2]},{id:4,chasse:{color:1,lvl:11,idAction:1055},libelle:"enchantement.maitrise-berserk",logos:[5,6]},{id:5,chasse:{color:2,lvl:11,idAction:149},libelle:"enchantement.maitrise-critique",logos:[10,2]},{id:6,chasse:{color:2,lvl:11,idAction:180},libelle:"enchantement.maitrise-dos",logos:[7,4]},{id:7,chasse:{color:3,lvl:11,idAction:173},libelle:"enchantement.tacle",logos:[3,3]},{id:8,chasse:{color:2,lvl:11,idAction:175},libelle:"enchantement.esquive",logos:[3,3]},{id:9,chasse:{color:2,lvl:11,idAction:171},libelle:"enchantement.initiative",logos:[5,6]},{id:10,chasse:{color:2,lvl:11,idAction:82},libelle:"enchantement.resistance-feu",logos:[9,7]},{id:11,chasse:{color:3,lvl:11,idAction:83},libelle:"enchantement.resistance-eau",logos:[9,10]},{id:12,chasse:{color:1,lvl:11,idAction:84},libelle:"enchantement.resistance-terre",logos:[9,4]},{id:13,chasse:{color:3,lvl:11,idAction:85},libelle:"enchantement.resistance-air",logos:[9,6]},{id:14,chasse:{color:3,lvl:11,idAction:20},libelle:"enchantement.vie",logos:[8,2]}];onMouseLeave(){this.tooltipService.closeTooltip()}getUrlSublimationImage(t){let e=-1;switch(t.level){case 1:e=81228822;break;case 2:e=81228823;break;default:e=81227111;break}return this.imageService.getItemUrl(e)}applySublimationEpicRelic(){!this.sublimationToApply()||!this.sublimationToApply().isEpic&&!this.sublimationToApply().isRelic||this.chasseFormService.applySublimationEpicRelic({id:this.sublimationToApply().id,idImage:this.sublimationToApply().gfxId,title:this.sublimationToApply().title,epique:this.sublimationToApply().isEpic,relique:this.sublimationToApply().isRelic})}applySublimation(t){if(!this.sublimationToApply()){this.chasseFormService.removeSublimation(t);return}this.sublimationToApply().isEpic||this.sublimationToApply().isRelic||this.chasseFormService.applySumblimation(t,{id:this.sublimationToApply().id,title:this.sublimationToApply().title,slotColorPattern:this.sublimationToApply().slotColorPattern,isValid:!1,level:this.levelSublimationToApply()||1})}nameItem(t){return t?t.title[this.translateService.currentLang]:""}descriptionSublimation(t){return t?t.description[this.translateService.currentLang]:""}nameSublimation(t){if(!t)return"";let e=t.level===1?"I":t.level===2?"II":t.level===3?"III":"";return`${t.title[this.translateService.currentLang]} ${e} `}nameSublimationEpicRelic(t){return t?t.title[this.translateService.currentLang]:""}chooseSublimation(t,e){this.effectToApply.set(void 0),this.sublimationToApply.set(t),this.levelSublimationToApply.set(e)}chooseEffet(t){this.levelSublimationToApply.set(void 0),this.sublimationToApply.set(void 0),this.effectToApply.set(t)}clearEffet(){this.effectToApply.set(void 0)}removeEffet(t,e){this.chasseFormService.clearEffect(t,e)}changeJokerState(t,e){this.chasseFormService.changeJokerState(t,e)}applyEffet(t,e,i){this.effectToApply()&&this.chasseFormService.applyEffect(t,e,{color:this.effectToApply().chasse.color,lvl:Math.min(this.level,W(i)),idAction:this.effectToApply().chasse.idAction,joker:!1})}cursorDestructStyle(t,e){let i=e?.chasse;return!i||!this.equalChasses(t,i)?"":"url(cursor/chasses/destructShard.png) 16 16, auto"}equalChasses(t,e){return t.color===e.color&&t.lvl===e.lvl&&t.idAction===e.idAction}effectIsDouble(t){return!!this.itemTypeSelected()&&t.logos.includes(this.itemTypeSelected())}selectItemType(t,e){this.itemTypeSelected()===t&&this.indexItemTypeSelected()===e?(this.indexItemTypeSelected.set(-1),this.itemTypeSelected.set(void 0)):(this.indexItemTypeSelected.set(e),this.itemTypeSelected.set(t))}setLevelItem(t,e){this.itemLevels.set(e,t)}getLevelItem(t){return this.itemLevels.get(t)||0}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-enchantement"]],features:[te],decls:2,vars:3,consts:[[1,"container"],[1,"column"],[1,"card"],[1,"header"],[3,"click"],[1,"body"],["min","1","step","1","showTickMarks","","discrete","",3,"max"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"group-item-chasses",3,"selected"],[1,"epique-relique"],[1,"epique",3,"click","contextmenu"],["src","chasses/shardEpique.png","alt",""],[1,"relique",3,"click","contextmenu"],["src","chasses/shardRelique.png","alt",""],[1,"effets-description",3,"selected","double"],["matInput","",3,"ngModelChange","ngModel","placeholder"],[1,"slider-container"],[1,"subli-container",3,"selected"],[1,"group-item-chasses"],[3,"level","click","itemType","indexItem","backgroundItemType"],[1,"container-image",3,"cursor"],[1,"delete",3,"click"],[1,"sublimations",3,"click","contextmenu"],["alt","",3,"mouseenter","mouseleave","src"],[1,"container-image",3,"click","contextmenu"],[3,"src","alt"],[1,"action-image"],[1,"action-image",3,"dblclick"],[1,"effets-description",3,"click"],[1,"logos"],[1,"subli-container"],[1,"row"],[1,"parchemins",3,"src","alt","parchemins-selected"],[1,"parchemins",3,"click","mouseenter","mouseleave","src","alt"],[1,"subli-container",3,"click"],[3,"mouseenter","mouseleave","src","alt"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,Ze,41,14),s()),e&2&&(V("cursor",i.effectToApply()?"url(cursor/"+i.imageService.getChasseColorUrl(i.effectToApply().chasse)+") 16 16, auto":"default"),l(),S(i.chasses()&&i.enchantement()?1:-1))},dependencies:[z,B,Te,ye,Se,Ie,Ee,ge,de,_e,ue,q],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:100%;margin:auto}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:fit-content}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:270px;border:2px solid #415A77;box-shadow:2px 3px 2px #f0f0f033;cursor:pointer;background-color:#fff;color:#213a57;font-weight:600;font-size:13px;height:35px;border-radius:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{transform:translateY(2px);box-shadow:2px 3px 2px #f0f0f033,inset 3px 2px 5px #1b263b;color:#fff;background-color:#1b263b}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:fit-content;background:linear-gradient(145deg,#0d1b2a,#415a77);border-radius:15px;padding:15px;color:#fff;height:fit-content;display:flex;flex-direction:column;box-shadow:0 8px 8px #0009;position:relative;margin-bottom:15px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-bottom:3px solid #415A77;margin-bottom:10px;padding:5px 0}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;width:50px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-direction:column;vertical-align:middle;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   app-image-item[_ngcontent-%COMP%]{margin-right:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin:0 5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:50px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   .action-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;position:absolute;bottom:0;right:0}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   .action-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:#0d1b2a;background-color:#fff;border:1px solid #415A77;border-radius:50%;width:15px;height:15px;text-align:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .container-image[_ngcontent-%COMP%]   .action-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;height:15px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;margin-left:10px;width:100px;position:relative}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;cursor:pointer}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:contents;margin-left:5px;width:50px;font-size:11px;height:40px;overflow:hidden}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .group-item-chasses[_ngcontent-%COMP%]   .sublimations.invalid[_ngcontent-%COMP%]:after{content:"\\2716";color:red;font-weight:700;font-size:24px;position:absolute;top:47%;left:20px;transform:translate(-50%,-50%);text-shadow:1px 1px 2px black,-1px -1px 2px black;pointer-events:none}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:orange}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .effets-description[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .double[_ngcontent-%COMP%]{background-color:orange}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;margin:10px auto 0;height:30px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:350px;display:flex;flex-wrap:wrap;grid-row-gap:5px;height:250px;overflow-y:scroll;background-color:#81aab7;border:1px solid #0D1B2A;border-radius:10px;color:#0d1b2a;padding:10px;margin-top:20px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]{cursor:pointer;color:#fff;width:45%;margin:0 auto 10px;display:flex;flex-direction:column;align-items:center;background:linear-gradient(145deg,#0d1b2a,#415a77);height:fit-content;border-radius:5px;border:2px solid #0D1B2A;text-align:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-top:3px solid #415A77;border-radius:10px;display:flex;justify-content:center;align-items:center;margin:5px 0;width:100%}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:49%;display:flex}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .parchemins[_ngcontent-%COMP%]:hover{transform:scale(1.4)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]   .parchemins-selected[_ngcontent-%COMP%]{background-color:#7eb3ec;border-radius:5px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .subli-container[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:orange}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;margin-top:10px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .epique[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .relique[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .epique[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .relique[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .epique[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .epique-relique[_ngcontent-%COMP%]   .relique[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;width:100px}']})};var we=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-enchantement-router"]],decls:1,vars:0,template:function(e,i){e&1&&h(0,"app-enchantement")},dependencies:[G],styles:["[_nghost-%COMP%]{display:flex;margin-top:10px}[_nghost-%COMP%]   app-enchantement[_ngcontent-%COMP%]{width:100%}"]})};export{we as EnchantementRouterComponent};
