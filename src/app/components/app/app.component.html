<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<header>
    <img id="logo" src="logo.png" alt="logo"> 
    <img class="gearfu" src="gearfu.png" alt="gearfu"> 
    <app-item-choose></app-item-choose>
    <button mat-button [matMenuTriggerFor]="menu" class="flagButton"><img class="flag" [src]='"aptitudes/"+ translate.currentLang + ".webp"' alt="flag"></button>
        <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="setLang('fr')"><img src="aptitudes/fr.webp" alt="flag" width="40px"></button>
        <button mat-menu-item (click)="setLang('en')"><img src="aptitudes/en.webp" alt="flag" width="40px"></button>
        <button mat-menu-item (click)="setLang('es')"><img src="aptitudes/es.webp" alt="flag" width="40px"></button>
        <button mat-menu-item (click)="setLang('pt')"><img src="aptitudes/pt.webp" alt="flag" width="40px"></button>
    </mat-menu>
    <img class="discord" src="discord.png" (click)="openDiscord()" alt="discord"> 
    <mat-icon fontIcon="menu" class="menu" (click)="displayFilterService.toggleDisplay()"></mat-icon>
  </header>
<div class="content">
    <div class="filter" [class.open]="displayFilter" appSwipe (swipeRight)="displayFilterService.setDisplay(false)">
        <div class="filter-header">
            <div class="filter-build">
                <button (click)="redirectToListItems('filter')">{{ "app.filter-item" | translate }}</button>
                <button (click)="redirectToListItems('build')">{{ "app.build" | translate }}</button>
            </div>
            <div class="filter-aptitudes">
                <button (click)="redirectToAptitudes()">{{ "app.aptitudes" | translate }}</button>
                <button (click)="redirectToSorts()">{{ "app.sorts" | translate }}</button>
                <button (click)="redirectToEnchantements()">{{ "app.enchantement" | translate }}</button>
            </div>
        </div>

        @if (filterOrBuild === 'filter') {
            <div class="filter-content">
                <div class="filter-title">
                    <h2>{{ "app.filter-item" | translate }}</h2>
                    <app-reverse-button></app-reverse-button>
                    <button (click)="resetFormServices.resetAllForms()">X</button>
                </div>
                <app-search-item-name></app-search-item-name>
                <app-obtention></app-obtention>
                <app-item-types></app-item-types>
                <app-item-level></app-item-level>
                <app-rarete-item></app-rarete-item>
                <app-filter-maitrises></app-filter-maitrises>
                <app-major-present></app-major-present>
                <app-filter-resistances></app-filter-resistances>
                
                <h2>{{ "app.sort-item" | translate }}</h2>
                <app-sort-choice></app-sort-choice>
                <app-modifier-mecanism></app-modifier-mecanism>
                <app-only-no-elem></app-only-no-elem>
                <app-only-no-secondary></app-only-no-secondary>
            </div>
        } @else if (filterOrBuild === 'build') {
            <div class="build-content">
                <app-name-build></app-name-build>
                <app-import-build></app-import-build>
                <app-builds-list></app-builds-list>
            </div>
        } @else if (filterOrBuild === 'aptitudes') {
            <div class="aptitudes-content">
                <app-resume-aptitudes></app-resume-aptitudes>
            </div>
        }
       
    </div>
    <div class="content-application">
        <router-outlet></router-outlet>
    </div>
</div>
